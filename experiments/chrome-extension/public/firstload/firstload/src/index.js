!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.highlightLib=t():e.highlightLib=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t,n){var r;self,r=function(){return(()=>{"use strict";var e={"./node_modules/@xstate/fsm/es/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@xstate/fsm/es/index.js ***!
  \**********************************************/(e,t,n)=>{
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var i;n.r(t),n.d(t,{InterpreterStatus:()=>i,assign:()=>s,createMachine:()=>f,interpret:()=>m}),function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(i||(i={}));var o={type:"xstate.init"};function a(e){return void 0===e?[]:[].concat(e)}function s(e){return{type:"xstate.assign",assignment:e}}function c(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function l(e){return function(t){return e===t}}function u(e){return"string"==typeof e?{type:e}:e}function d(e,t){return{value:e,context:t,actions:[],changed:!1,matches:l(e)}}function p(e,t,n){var r=t,i=!1;return[e.filter((function(e){if("xstate.assign"===e.type){i=!0;var t=Object.assign({},r);return"function"==typeof e.assignment?t=e.assignment(r,n):Object.keys(e.assignment).forEach((function(i){t[i]="function"==typeof e.assignment[i]?e.assignment[i](r,n):e.assignment[i]})),r=t,!1}return!0})),r,i]}function f(e,t){void 0===t&&(t={});var n=r(p(a(e.states[e.initial].entry).map((function(e){return c(e,t.actions)})),e.context,o),2),i=n[0],s=n[1],f={config:e,_options:t,initialState:{value:e.initial,actions:i,context:s,matches:l(e.initial)},transition:function(t,n){var i,o,s="string"==typeof t?{value:t,context:e.context}:t,h=s.value,m=s.context,v=u(n),g=e.states[h];if(g.on){var y=a(g.on[v.type]);try{for(var b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(y),w=b.next();!w.done;w=b.next()){var T=w.value;if(void 0===T)return d(h,m);var S="string"==typeof T?{target:T}:T,E=S.target,_=S.actions,O=void 0===_?[]:_,N=S.cond,k=void 0===E;if((void 0===N?function(){return!0}:N)(m,v)){var I=e.states[null!=E?E:h],C=r(p((k?a(O):[].concat(g.exit,O,I.entry).filter((function(e){return e}))).map((function(e){return c(e,f._options.actions)})),m,v),3),x=C[0],A=C[1],M=C[2],D=null!=E?E:h;return{value:D,context:A,actions:x,changed:E!==h||x.length>0||M,matches:l(D)}}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}}return d(h,m)}};return f}var h=function(e,t){return e.actions.forEach((function(n){var r=n.exec;return r&&r(e.context,t)}))};function m(e){var t=e.initialState,n=i.NotStarted,r=new Set,a={_machine:e,send:function(o){n===i.Running&&(t=e.transition(t,o),h(t,u(o)),r.forEach((function(e){return e(t)})))},subscribe:function(e){return r.add(e),e(t),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var s="object"==typeof r?r:{context:e.config.context,value:r};t={value:s.value,actions:[],context:s.context,matches:l(s.value)}}return n=i.Running,h(t,o),a},stop:function(){return n=i.Stopped,r.clear(),a},get state(){return t},get status(){return n}};return a}},"./src/replay/styles/style.css":
/*!*************************************!*\
  !*** ./src/replay/styles/style.css ***!
  \*************************************/(e,t,n)=>{n.r(t)},"./node_modules/mitt/dist/mitt.es.js":
/*!*******************************************!*\
  !*** ./node_modules/mitt/dist/mitt.es.js ***!
  \*******************************************/(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).slice().map((function(e){e(n)})),(e["*"]||[]).slice().map((function(e){e(t,n)}))}}}},"./src/record/index.ts":
/*!*****************************!*\
  !*** ./src/record/index.ts ***!
  \*****************************/function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(/*! ../snapshot */"./src/snapshot/index.ts"),s=n(/*! ./observer */"./src/record/observer.ts"),c=n(/*! ../utils */"./src/utils.ts"),l=n(/*! ../types */"./src/types.ts");function u(e){return r(r({},e),{timestamp:Date.now()})}function d(e){void 0===e&&(e={});var t=e.emit,n=e.checkoutEveryNms,d=e.checkoutEveryNth,p=e.blockClass,f=void 0===p?"highlight-block":p,h=e.blockSelector,m=void 0===h?null:h,v=e.ignoreClass,g=void 0===v?"highlight-ignore":v,y=e.inlineStylesheet,b=void 0===y||y,w=e.maskAllInputs,T=e.maskInputOptions,S=e.slimDOMOptions,E=e.maskInputFn,_=e.hooks,O=e.packFn,N=e.sampling,k=void 0===N?{}:N,I=e.mousemoveWait,C=e.recordCanvas,x=void 0!==C&&C,A=e.collectFonts,M=void 0!==A&&A,D=e.recordLog,P=void 0!==D&&D,L=(e.debug,e.enableStrictPrivacy),R=void 0!==L&&L;if(!t)throw new Error("emit function is required");void 0!==I&&void 0===k.mousemove&&(k.mousemove=I);var j,F=!0===w?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:void 0!==T?T:{},B=!0===S||"all"===S?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===S,headMetaDescKeywords:"all"===S}:S||{},U={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:console},K=P?!0===P?U:Object.assign({},U,P):{};c.polyfill();var V=0;function G(e){var t,n,r,d;void 0===e&&(e=!1),o(u({type:l.EventType.Meta,data:{href:window.location.href,width:c.getWindowWidth(),height:c.getWindowHeight()}}),e);var p=s.mutationBuffer.isFrozen();s.mutationBuffer.freeze();var h=i(a.snapshot(document,{blockClass:f,blockSelector:m,inlineStylesheet:b,maskAllInputs:F,slimDOM:B,recordCanvas:x,enableStrictPrivacy:R}),2),v=h[0],g=h[1];if(!v)return console.warn("Failed to snapshot the document");c.mirror.map=g,o(u({type:l.EventType.FullSnapshot,data:{node:v,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(d=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===d?void 0:d.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),p||(s.mutationBuffer.emit(),s.mutationBuffer.unfreeze())}o=function(e,r){if(!s.mutationBuffer.isFrozen()||e.type===l.EventType.FullSnapshot||e.type===l.EventType.IncrementalSnapshot&&e.data.source===l.IncrementalSource.Mutation||(s.mutationBuffer.emit(),s.mutationBuffer.unfreeze()),t(O?O(e):e,r),e.type===l.EventType.FullSnapshot)j=e,V=0;else if(e.type===l.EventType.IncrementalSnapshot){V++;var i=d&&V>=d,o=n&&e.timestamp-j.timestamp>n;(i||o)&&G(!0)}};try{var z=[];z.push(c.on("DOMContentLoaded",(function(){o(u({type:l.EventType.DomContentLoaded,data:{}}))})));var $=function(){G(),z.push(s.initObservers({mutationCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.Mutation},e)}))},mousemoveCb:function(e,t){return o(u({type:l.EventType.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.MouseInteraction},e)}))},scrollCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.Scroll},e)}))},viewportResizeCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.ViewportResize},e)}))},inputCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.Input},e)}))},mediaInteractionCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.StyleSheetRule},e)}))},canvasMutationCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.CanvasMutation},e)}))},fontCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.Font},e)}))},logCb:function(e){return o(u({type:l.EventType.IncrementalSnapshot,data:r({source:l.IncrementalSource.Log},e)}))},blockClass:f,blockSelector:m,ignoreClass:g,maskInputOptions:F,maskInputFn:E,inlineStylesheet:b,sampling:k,recordCanvas:x,collectFonts:M,slimDOMOptions:B,logOptions:K,enableStrictPrivacy:R},_))};return"interactive"===document.readyState||"complete"===document.readyState?$():z.push(c.on("load",(function(){o(u({type:l.EventType.Load,data:{}})),$()}),window)),function(){z.forEach((function(e){return e()}))}}catch(e){console.warn(e)}}d.addCustomEvent=function(e,t){if(!o)throw new Error("please add custom event after start recording");o(u({type:l.EventType.Custom,data:{tag:e,payload:t}}))},d.freezePage=function(){s.mutationBuffer.freeze()},t.default=d},"./src/record/mutation.ts":
/*!********************************!*\
  !*** ./src/record/mutation.ts ***!
  \********************************/function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ../snapshot */"./src/snapshot/index.ts"),o=n(/*! ../utils */"./src/utils.ts");function a(e){return"__ln"in e}var s=function(){function e(){this.length=0,this.head=null}return e.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t},e.prototype.addNode=function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&a(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else e.nextSibling&&a(e.nextSibling)?(n=e.nextSibling.__ln.previous,t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)):(this.head&&(this.head.previous=t),t.next=this.head,this.head=t);this.length++},e.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},e}(),c=function(e,t){return e+"@"+t};function l(e){return"__sn"in e}var u=function(){function e(){var e=this;this.frozen=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(t){t.forEach(e.processMutation),e.frozen||e.emit()},this.emit=function(){for(var t,n,a,c,l=[],u=new s,d=function(t){for(var n=t,r=i.IGNORED_NODE;r===i.IGNORED_NODE;)r=(n=n&&n.nextSibling)&&o.mirror.getId(n);return-1===r&&o.isBlocked(t.nextSibling,e.blockClass)&&(r=null),r},h=function(t){if(t.parentNode&&document.contains(t)){var n=o.mirror.getId(t.parentNode),r=d(t);if(-1===n||-1===r)return u.addNode(t);var a=i.serializeNodeWithId(t,{doc:document,map:o.mirror.map,blockClass:e.blockClass,blockSelector:e.blockSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,enableStrictPrivacy:e.enableStrictPrivacy});a&&l.push({parentId:n,nextId:r,node:a})}};e.mapRemoves.length;)o.mirror.removeNodeFromMap(e.mapRemoves.shift());try{for(var m=r(e.movedSet),v=m.next();!v.done;v=m.next()){var g=v.value;p(e.removes,g)&&!e.movedSet.has(g.parentNode)||h(g)}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}try{for(var y=r(e.addedSet),b=y.next();!b.done;b=y.next())g=b.value,f(e.droppedSet,g)||p(e.removes,g)?f(e.movedSet,g)?h(g):e.droppedSet.add(g):h(g)}catch(e){a={error:e}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(a)throw a.error}}for(var w=null;u.length;){var T=null;if(w){var S=o.mirror.getId(w.value.parentNode),E=d(w.value);-1!==S&&-1!==E&&(T=w)}if(!T)for(var _=u.length-1;_>=0;_--){var O=u.get(_);if(S=o.mirror.getId(O.value.parentNode),E=d(O.value),-1!==S&&-1!==E){T=O;break}}if(!T){for(;u.head;)u.removeNode(u.head.value);break}w=T.previous,u.removeNode(T.value),h(T.value)}var N={texts:e.texts.map((function(e){return{id:o.mirror.getId(e.node),value:e.value}})).filter((function(e){return o.mirror.has(e.id)})),attributes:e.attributes.map((function(e){return{id:o.mirror.getId(e.node),attributes:e.attributes}})).filter((function(e){return o.mirror.has(e.id)})),removes:e.removes,adds:l};(N.texts.length||N.attributes.length||N.removes.length||N.adds.length)&&(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.emissionCallback(N))},this.processMutation=function(t){if(!o.isIgnored(t.target))switch(t.type){case"characterData":var n=t.target.textContent;o.isBlocked(t.target,e.blockClass)||n===t.oldValue||e.texts.push({value:n,node:t.target});break;case"attributes":if(n=t.target.getAttribute(t.attributeName),o.isBlocked(t.target,e.blockClass)||n===t.oldValue)return;var r=e.attributes.find((function(e){return e.node===t.target}));if(r||(r={node:t.target,attributes:{}},e.attributes.push(r)),"INPUT"===t.target.tagName){var a=t.target;if("password"===a.type){r.attributes.value="*".repeat(a.value.length);break}}r.attributes[t.attributeName]=i.transformAttribute(document,t.attributeName,n);break;case"childList":t.addedNodes.forEach((function(n){return e.genAdds(n,t.target)})),t.removedNodes.forEach((function(n){var r=o.mirror.getId(n),i=o.mirror.getId(t.target);o.isBlocked(n,e.blockClass)||o.isBlocked(t.target,e.blockClass)||o.isIgnored(n)||(e.addedSet.has(n)?(d(e.addedSet,n),e.droppedSet.add(n)):e.addedSet.has(t.target)&&-1===r||o.isAncestorRemoved(t.target)||(e.movedSet.has(n)&&e.movedMap[c(r,i)]?d(e.movedSet,n):e.removes.push({parentId:i,id:r})),e.mapRemoves.push(n))}))}},this.genAdds=function(t,n){if(!(o.isBlocked(t,e.blockClass)||n&&o.isBlocked(n,e.blockClass))){if(l(t)){if(o.isIgnored(t))return;e.movedSet.add(t);var r=null;n&&l(n)&&(r=n.__sn.id),r&&(e.movedMap[c(t.__sn.id,r)]=!0)}else e.addedSet.add(t),e.droppedSet.delete(t);t.childNodes.forEach((function(t){return e.genAdds(t)}))}}}return e.prototype.init=function(e,t,n,r,i,o,a,s){this.blockClass=t,this.blockSelector=n,this.inlineStylesheet=r,this.maskInputOptions=i,this.recordCanvas=o,this.slimDOMOptions=a,this.enableStrictPrivacy=s,this.emissionCallback=e},e.prototype.freeze=function(){this.frozen=!0},e.prototype.unfreeze=function(){this.frozen=!1},e.prototype.isFrozen=function(){return this.frozen},e}();function d(e,t){e.delete(t),t.childNodes.forEach((function(t){return d(e,t)}))}function p(e,t){var n=t.parentNode;if(!n)return!1;var r=o.mirror.getId(n);return!!e.some((function(e){return e.id===r}))||p(e,n)}function f(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||f(e,n))}t.default=u},"./src/record/observer.ts":
/*!********************************!*\
  !*** ./src/record/observer.ts ***!
  \********************************/function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.initObservers=t.INPUT_TAGS=t.mutationBuffer=void 0;var s=n(/*! ../utils */"./src/utils.ts"),c=n(/*! ../types */"./src/types.ts"),l=n(/*! ./mutation */"./src/record/mutation.ts"),u=n(/*! ./stringify */"./src/record/stringify.ts");function d(e,t,n){if(!1===n.mouseInteraction)return function(){};var r=!0===n.mouseInteraction||void 0===n.mouseInteraction?{}:n.mouseInteraction,i=[];return Object.keys(c.MouseInteractions).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==r[e]})).forEach((function(n){var r=n.toLowerCase(),o=function(n){return function(r){if(!s.isBlocked(r.target,t)){var i=s.mirror.getId(r.target),o=s.isTouchEvent(r)?r.changedTouches[0]:r,a=o.clientX,l=o.clientY;e({type:c.MouseInteractions[n],id:i,x:a,y:l})}}}(n);i.push(s.on(r,o))})),function(){i.forEach((function(e){return e()}))}}t.mutationBuffer=new l.default,t.INPUT_TAGS=["INPUT","TEXTAREA","SELECT"];var p=new WeakMap;t.initObservers=function(e,n){void 0===n&&(n={}),function(e,t){var n=e.mutationCb,r=e.mousemoveCb,i=e.mouseInteractionCb,a=e.scrollCb,s=e.viewportResizeCb,c=e.inputCb,l=e.mediaInteractionCb,u=e.styleSheetRuleCb,d=e.canvasMutationCb,p=e.fontCb,f=e.logCb;e.mutationCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mutation&&t.mutation.apply(t,o(e)),n.apply(void 0,o(e))},e.mousemoveCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mousemove&&t.mousemove.apply(t,o(e)),r.apply(void 0,o(e))},e.mouseInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mouseInteraction&&t.mouseInteraction.apply(t,o(e)),i.apply(void 0,o(e))},e.scrollCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.scroll&&t.scroll.apply(t,o(e)),a.apply(void 0,o(e))},e.viewportResizeCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.viewportResize&&t.viewportResize.apply(t,o(e)),s.apply(void 0,o(e))},e.inputCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.input&&t.input.apply(t,o(e)),c.apply(void 0,o(e))},e.mediaInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mediaInteaction&&t.mediaInteaction.apply(t,o(e)),l.apply(void 0,o(e))},e.styleSheetRuleCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.styleSheetRule&&t.styleSheetRule.apply(t,o(e)),u.apply(void 0,o(e))},e.canvasMutationCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.canvasMutation&&t.canvasMutation.apply(t,o(e)),d.apply(void 0,o(e))},e.fontCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.font&&t.font.apply(t,o(e)),p.apply(void 0,o(e))},e.logCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.log&&t.log.apply(t,o(e)),f.apply(void 0,o(e))}}(e,n);var i,l,f,h,m=function(e,n,r,i,o,a,s,c){var l,u,d;t.mutationBuffer.init(e,n,r,i,o,a,s,c);var p=window.MutationObserver,f=null===(d=null===(u=null===(l=window)||void 0===l?void 0:l.Zone)||void 0===u?void 0:u.__symbol__)||void 0===d?void 0:d.call(u,"MutationObserver");f&&window[f]&&(p=window[f]);var h=new p(t.mutationBuffer.processMutations.bind(t.mutationBuffer));return h.observe(document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),h}(e.mutationCb,e.blockClass,e.blockSelector,e.inlineStylesheet,e.maskInputOptions,e.recordCanvas,e.slimDOMOptions,e.enableStrictPrivacy),v=function(e,t){if(!1===t.mousemove)return function(){};var n,r="number"==typeof t.mousemove?t.mousemove:50,i=[],o=s.throttle((function(t){var r=Date.now()-n;e(i.map((function(e){return e.timeOffset-=r,e})),t?c.IncrementalSource.TouchMove:c.IncrementalSource.MouseMove),i=[],n=null}),500),a=s.throttle((function(e){var t=e.target,r=s.isTouchEvent(e)?e.changedTouches[0]:e,a=r.clientX,c=r.clientY;n||(n=Date.now()),i.push({x:a,y:c,id:s.mirror.getId(t),timeOffset:Date.now()-n}),o(s.isTouchEvent(e))}),r,{trailing:!1}),l=[s.on("mousemove",a),s.on("touchmove",a)];return function(){l.forEach((function(e){return e()}))}}(e.mousemoveCb,e.sampling),g=d(e.mouseInteractionCb,e.blockClass,e.sampling),y=(i=e.scrollCb,l=e.blockClass,f=e.sampling,h=s.throttle((function(e){if(e.target&&!s.isBlocked(e.target,l)){var t=s.mirror.getId(e.target);if(e.target===document){var n=document.scrollingElement||document.documentElement;i({id:t,x:n.scrollLeft,y:n.scrollTop})}else i({id:t,x:e.target.scrollLeft,y:e.target.scrollTop})}}),f.scroll||100),s.on("scroll",h)),b=function(e){var t=-1,n=-1,r=s.throttle((function(){var r=s.getWindowHeight(),i=s.getWindowWidth();t===r&&n==i||(e({width:Number(i),height:Number(r)}),t=r,n=i)}),200);return s.on("resize",r,window)}(e.viewportResizeCb),w=function(e,n,i,a,c,l){function u(e){var r=e.target;if(r&&r.tagName&&!(t.INPUT_TAGS.indexOf(r.tagName)<0)&&!s.isBlocked(r,n)){var o=r.type;if("password"!==o&&!r.classList.contains(i)){var l=r.value,u=!1;"radio"===o||"checkbox"===o?u=r.checked:(a[r.tagName.toLowerCase()]||a[o])&&(l=c?c(l):"*".repeat(l.length)),d(r,{text:l,isChecked:u});var p=r.name;"radio"===o&&p&&u&&document.querySelectorAll('input[type="radio"][name="'+p+'"]').forEach((function(e){e!==r&&d(e,{text:e.value,isChecked:!u})}))}}}function d(t,n){var i=p.get(t);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){p.set(t,n);var o=s.mirror.getId(t);e(r(r({},n),{id:o}))}}var f=("last"===l.input?["change"]:["input","change"]).map((function(e){return s.on(e,u)})),h=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),m=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]];return h&&h.set&&f.push.apply(f,o(m.map((function(e){return s.hookSetter(e[0],e[1],{set:function(){u({target:this})}})})))),function(){f.forEach((function(e){return e()}))}}(e.inputCb,e.blockClass,e.ignoreClass,e.maskInputOptions,e.maskInputFn,e.sampling),T=function(e,t){var n=function(n){return function(r){var i=r.target;i&&!s.isBlocked(i,t)&&e({type:"play"===n?0:1,id:s.mirror.getId(i)})}},r=[s.on("play",n("play")),s.on("pause",n("pause"))];return function(){r.forEach((function(e){return e()}))}}(e.mediaInteractionCb,e.blockClass),S=function(e){var t=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(n,r){var i=s.mirror.getId(this.ownerNode);return-1!==i&&e({id:i,adds:[{rule:n,index:r}]}),t.apply(this,arguments)};var n=CSSStyleSheet.prototype.deleteRule;return CSSStyleSheet.prototype.deleteRule=function(t){var r=s.mirror.getId(this.ownerNode);return-1!==r&&e({id:r,removes:[{index:t}]}),n.apply(this,arguments)},function(){CSSStyleSheet.prototype.insertRule=t,CSSStyleSheet.prototype.deleteRule=n}}(e.styleSheetRuleCb),E=e.recordCanvas?function(e,t){var n,r,i=Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype),c=[],l=function(n){try{if("function"!=typeof CanvasRenderingContext2D.prototype[n])return"continue";var r=s.patch(CanvasRenderingContext2D.prototype,n,(function(r){return function(){for(var i=this,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return s.isBlocked(this.canvas,t)||setTimeout((function(){var t=o(a);"drawImage"===n&&t[0]&&t[0]instanceof HTMLCanvasElement&&(t[0]=t[0].toDataURL()),e({id:s.mirror.getId(i.canvas),property:n,args:t})}),0),r.apply(this,a)}}));c.push(r)}catch(t){var i=s.hookSetter(CanvasRenderingContext2D.prototype,n,{set:function(t){e({id:s.mirror.getId(this.canvas),property:n,args:[t],setter:!0})}});c.push(i)}};try{for(var u=a(i),d=u.next();!d.done;d=u.next())l(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return function(){c.forEach((function(e){return e()}))}}(e.canvasMutationCb,e.blockClass):function(){},_=e.collectFonts?function(e){var t=[],n=new WeakMap,r=FontFace;window.FontFace=function(e,t,i){var o=new r(e,t,i);return n.set(o,{family:e,buffer:"string"!=typeof t,descriptors:i,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),o};var i=s.patch(document.fonts,"add",(function(t){return function(r){return setTimeout((function(){var t=n.get(r);t&&(e(t),n.delete(r))}),0),t.apply(this,[r])}}));return t.push((function(){window.FonFace=r})),t.push(i),function(){t.forEach((function(e){return e()}))}}(e.fontCb):function(){},O=e.logOptions?function(e,t){var n,r,i=this,c=t.logger;if(!c)return function(){};var l=0,d=[];if(t.level.includes("error")&&window){var p=window.onerror;window.onerror=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];p&&p.apply(i,n);var o=[];n[n.length-1]instanceof Error&&(o=g(n[n.length-1].stack,0));var a=[u.stringify(n[0],t.stringifyOptions)];e({level:"error",trace:o,payload:a})},d.push((function(){window.onerror=p}))}try{for(var f=a(t.level),h=f.next();!h.done;h=f.next()){var m=h.value;d.push(v(c,m))}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return function(){d.forEach((function(e){return e()}))};function v(n,r){var i=this;return n[r]?s.patch(n,r,(function(n){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];n.apply(i,a);try{var c=g((new Error).stack),d=a.map((function(e){return u.stringify(e,t.stringifyOptions)}));++l<t.lengthThreshold?e({level:r,trace:c,payload:d}):l===t.lengthThreshold&&e({level:"warn",trace:[],payload:[u.stringify("The number of log records reached the threshold.")]})}catch(e){n.apply(void 0,o(["rrweb logger error:",e],a))}}})):function(){}}function g(e,t){void 0===t&&(t=1);var n=[];return e&&(n=e.split("at").splice(1+t).map((function(e){return e.trim()}))),n}}(e.logCb,e.logOptions):function(){};return function(){m.disconnect(),v(),g(),y(),b(),w(),T(),S(),E(),_(),O()}}},"./src/record/stringify.ts":
/*!*********************************!*\
  !*** ./src/record/stringify.ts ***!
  \*********************************/(e,t)=>{function n(e){if(!e||!e.outerHTML)return"";for(var t="";e.parentElement;){var n=e.localName;if(!n)break;n=n.toLowerCase();var r=e.parentElement,i=[];if(r.children&&r.children.length>0)for(var o=0;o<r.children.length;o++){var a=r.children[o];a.localName&&a.localName.toLowerCase&&a.localName.toLowerCase()===n&&i.push(a)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),t=n+(t?">"+t:""),e=r}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0,t.stringify=function(e,t){var r={numOfKeysLimit:50};Object.assign(r,t);var i=[],o=[];return JSON.stringify(e,(function(e,t){if(i.length>0){var a=i.indexOf(this);~a?i.splice(a+1):i.push(this),~a?o.splice(a,1/0,e):o.push(e),~i.indexOf(t)&&(t=i[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,i.indexOf(t)).join(".")+"]")}else i.push(t);if(null==t)return t;if(function(e){return"object"==typeof e&&Object.keys(e).length>r.numOfKeysLimit||"function"==typeof e}(t))return function(e){var t=e.toString();return r.stringLengthLimit&&t.length>r.stringLengthLimit&&(t=t.slice(0,r.stringLengthLimit)+"..."),t}(t);if(t instanceof Event){var s={};for(var c in t){var l=t[c];Array.isArray(l)?s[c]=n(l.length?l[0]:null):s[c]=l}return s}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t}))}},"./src/replay/index.ts":
/*!*****************************!*\
  !*** ./src/replay/index.ts ***!
  \*****************************/function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Replayer=void 0;var s=n(/*! ../snapshot */"./src/snapshot/index.ts"),c=n(/*! mitt */"./node_modules/mitt/dist/mitt.es.js"),l=n(/*! ./smoothscroll */"./src/replay/smoothscroll.ts"),u=n(/*! ./timer */"./src/replay/timer.ts"),d=n(/*! ./machine */"./src/replay/machine.ts"),p=n(/*! ../types */"./src/types.ts"),f=n(/*! ../utils */"./src/utils.ts"),h=n(/*! ./styles/inject-style */"./src/replay/styles/inject-style.ts");n(/*! ./styles/style.css */"./src/replay/styles/style.css");var m=c.default||c,v={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"},g={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],replayLogger:void 0},y=function(){function e(e,t){var n=this;if(this.mouseTail=null,this.tailPositions=[],this.emitter=m(),this.activityIntervals=[],this.legacy_missingNodeRetryMap={},this.imageMap=new Map,this.firstPlay=!0,!(null==t?void 0:t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");var r={speed:1,root:document.body,loadTimeout:0,skipInactive:!1,showWarning:!0,showDebug:!1,blockClass:"highlight-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:v,logConfig:g,inactiveThreshold:.02,inactiveSkipTime:2e3};this.config=Object.assign({},r,t),this.config.logConfig.replayLogger||(this.config.logConfig.replayLogger=this.getConsoleLogger()),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.emitter.on(p.ReplayerEvents.Resize,this.handleResize),this.setupDom(),this.treeIndex=new f.TreeIndex,this.fragmentParentMap=new Map,this.elementStateMap=new Map,this.emitter.on(p.ReplayerEvents.Flush,(function(){var e,t,r,a,c,l,u=n.treeIndex.flush(),d=u.scrollMap,p=u.inputMap;try{for(var h=i(n.fragmentParentMap.entries()),m=h.next();!m.done;m=h.next()){var v=o(m.value,2),g=v[0],y=v[1];f.mirror.map[y.__sn.id]=y,y.__sn.type===s.NodeType.Element&&"textarea"===y.__sn.tagName&&g.textContent&&(y.value=g.textContent),y.appendChild(g),n.restoreState(y)}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}n.fragmentParentMap.clear(),n.elementStateMap.clear();try{for(var b=i(d.values()),w=b.next();!w.done;w=b.next()){var T=w.value;n.applyScroll(T)}}catch(e){r={error:e}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(r)throw r.error}}try{for(var S=i(p.values()),E=S.next();!E.done;E=S.next())T=E.value,n.applyInput(T)}catch(e){c={error:e}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(c)throw c.error}}}));var a=new u.Timer([],(null==t?void 0:t.speed)||r.speed);this.service=d.createPlayerService({events:e.map((function(e){return t&&t.unpackFn?t.unpackFn(e):e})),timer:a,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,emitter:this.emitter}),this.service.start(),this.service.subscribe((function(e){n.emitter.emit(p.ReplayerEvents.StateChange,{player:e})})),this.speedService=d.createSpeedService({normalSpeed:-1,timer:a}),this.speedService.start(),this.speedService.subscribe((function(e){n.emitter.emit(p.ReplayerEvents.StateChange,{speed:e})}));var c=this.service.state.context.events.find((function(e){return e.type===p.EventType.Meta})),l=this.service.state.context.events.find((function(e){return e.type===p.EventType.FullSnapshot}));if(c){var h=c.data,y=h.width,b=h.height;setTimeout((function(){n.emitter.emit(p.ReplayerEvents.Resize,{width:y,height:b})}),0)}l&&setTimeout((function(){n.rebuildFullSnapshot(l),n.iframe.contentWindow.scrollTo(l.data.initialOffset)}),1)}return Object.defineProperty(e.prototype,"timer",{get:function(){return this.service.state.context.timer},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.setConfig=function(e){var t=this;Object.keys(e).forEach((function(n){t.config[n]=e[n]})),this.config.skipInactive||this.backToNormal(),void 0!==e.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),void 0!==e.mouseTail&&(!1===e.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))},e.prototype.getActivityIntervals=function(){var e=this;if(0==this.activityIntervals.length){for(var t=[],n=this.getMetaData(),r=a([{timestamp:n.startTime}],this.service.state.context.events.filter((function(t){return e.isUserInteraction(t)})),[{timestamp:n.endTime}]),i=1;i<r.length;i++){var o=r[i-1],s=r[i];s.timestamp-o.timestamp>1e4?t.push({startTime:o.timestamp,endTime:s.timestamp,duration:s.timestamp-o.timestamp,active:!1}):t.push({startTime:o.timestamp,endTime:s.timestamp,duration:s.timestamp-o.timestamp,active:!0})}var c=[],l=t[0];for(i=1;i<t.length;i++)t[i].active!=t[i-1].active&&(c.push({startTime:l.startTime,endTime:t[i-1].endTime,duration:t[i-1].endTime-l.startTime,active:t[i-1].active}),l=t[i]);for(l&&t.length>0&&c.push({startTime:l.startTime,endTime:t[t.length-1].endTime,duration:t[t.length-1].endTime-l.startTime,active:t[t.length-1].active}),l=c[0],i=1;i<c.length;i++)(!c[i].active&&c[i].duration>this.config.inactiveThreshold*n.totalTime||!c[i-1].active&&c[i-1].duration>this.config.inactiveThreshold*n.totalTime)&&(this.activityIntervals.push({startTime:l.startTime,endTime:c[i-1].endTime,duration:c[i-1].endTime-l.startTime,active:c[i-1].active}),l=c[i]);l&&c.length>0&&this.activityIntervals.push({startTime:l.startTime,endTime:c[c.length-1].endTime,duration:c[c.length-1].endTime-l.startTime,active:c[c.length-1].active})}return this.activityIntervals},e.prototype.getMetaData=function(){var e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}},e.prototype.getCurrentTime=function(){return this.timer.timeOffset+this.getTimeOffset()},e.prototype.getTimeOffset=function(){var e=this.service.state.context;return e.baselineTime-e.events[0].timestamp},e.prototype.play=function(e){var t;void 0===e&&(e=0),this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}}),null===(t=this.iframe.contentDocument)||void 0===t||t.getElementsByTagName("html")[0].classList.remove("rrweb-paused"),this.emitter.emit(p.ReplayerEvents.Start),this.handleInactivity(this.getMetaData().startTime+e,!0)},e.prototype.pause=function(e){var t;void 0===e&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof e&&(this.play(e),this.service.send({type:"PAUSE"})),null===(t=this.iframe.contentDocument)||void 0===t||t.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(p.ReplayerEvents.Pause)},e.prototype.resume=function(e){void 0===e&&(e=0),console.warn("The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(p.ReplayerEvents.Resume)},e.prototype.startLive=function(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})},e.prototype.addEvent=function(e){var t=this,n=this.config.unpackFn?this.config.unpackFn(e):e;Promise.resolve().then((function(){return t.service.send({type:"ADD_EVENT",payload:{event:n}})}))},e.prototype.enableInteract=function(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"},e.prototype.disableInteract=function(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"},e.prototype.setupDom=function(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");var e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(l.polyfill(this.iframe.contentWindow,this.iframe.contentDocument),f.polyfill(this.iframe.contentWindow))},e.prototype.handleResize=function(e){var t,n;this.iframe.style.display="inherit";try{for(var r=i([this.mouseTail,this.iframe]),o=r.next();!o.done;o=r.next()){var a=o.value;a&&(a.setAttribute("width",String(e.width)),a.setAttribute("height",String(e.height)))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.getCastFn=function(e,t){var n,r=this;switch(void 0===t&&(t=!1),e.type){case p.EventType.DomContentLoaded:case p.EventType.Load:break;case p.EventType.Custom:n=function(){r.emitter.emit(p.ReplayerEvents.CustomEvent,e)};break;case p.EventType.Meta:n=function(){r.emitter.emit(p.ReplayerEvents.Resize,{width:e.data.width,height:e.data.height})};break;case p.EventType.FullSnapshot:n=function(){r.firstPlay?r.firstPlay=!1:(r.rebuildFullSnapshot(e,t),r.iframe.contentWindow.scrollTo(e.data.initialOffset))};break;case p.EventType.IncrementalSnapshot:n=function(){r.applyIncremental(e,t),t||r.handleInactivity(e.timestamp)}}return function(){if(n&&n(),r.service.send({type:"CAST_EVENT",payload:{event:e}}),e===r.service.state.context.events[r.service.state.context.events.length-1]){var t=function(){r.backToNormal(),r.service.send("END"),r.emitter.emit(p.ReplayerEvents.Finish)};e.type===p.EventType.IncrementalSnapshot&&e.data.source===p.IncrementalSource.MouseMove&&e.data.positions.length?setTimeout((function(){t()}),Math.max(0,50-e.data.positions[0].timeOffset)):t()}}},e.prototype.handleInactivity=function(e,t){var n,r;if((e===this.inactiveEndTimestamp||t)&&(this.inactiveEndTimestamp=null,this.backToNormal()),this.config.skipInactive&&!this.inactiveEndTimestamp){try{for(var o=i(this.getActivityIntervals()),a=o.next();!a.done;a=o.next()){var s=a.value;if(e>=s.startTime&&e<s.endTime&&!s.active){this.inactiveEndTimestamp=s.endTime;break}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(this.inactiveEndTimestamp){var c=this.inactiveEndTimestamp-e,l={speed:c/36e5*this.config.inactiveSkipTime<1e3?c/1e3:Math.round(Math.max(c,36e5)/this.config.inactiveSkipTime)};this.speedService.send({type:"FAST_FORWARD",payload:l}),this.emitter.emit(p.ReplayerEvents.SkipStart,l)}}},e.prototype.rebuildFullSnapshot=function(e,t){if(void 0===t&&(t=!1),!this.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&console.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={},f.mirror.map=s.rebuild(e.data.node,{doc:this.iframe.contentDocument})[1];var n=document.createElement("style"),r=this.iframe.contentDocument,i=r.documentElement,o=r.head;i.insertBefore(n,o);var a=h.default(this.config.blockClass).concat(this.config.insertStyleRules);this.config.pauseAnimation&&a.push("html.rrweb-paused * { animation-play-state: paused !important; }"),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused");for(var c=0;c<a.length;c++)n.sheet.insertRule(a[c],c);this.emitter.emit(p.ReplayerEvents.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()},e.prototype.waitForStylesheetLoad=function(){var e,t=this,n=null===(e=this.iframe.contentDocument)||void 0===e?void 0:e.head;if(n){var r,i=new Set,o=this.service.state,a=function(){o=t.service.state};this.emitter.on(p.ReplayerEvents.Start,a),this.emitter.on(p.ReplayerEvents.Pause,a);var s=function(){t.emitter.off(p.ReplayerEvents.Start,a),t.emitter.off(p.ReplayerEvents.Pause,a)};n.querySelectorAll('link[rel="stylesheet"]').forEach((function(e){e.sheet||(i.add(e),e.addEventListener("load",(function(){i.delete(e),0===i.size&&-1!==r&&(o.matches("playing")&&t.play(t.getCurrentTime()),t.emitter.emit(p.ReplayerEvents.LoadStylesheetEnd),r&&window.clearTimeout(r),s())})))})),i.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(p.ReplayerEvents.LoadStylesheetStart),r=window.setTimeout((function(){o.matches("playing")&&t.play(t.getCurrentTime()),r=-1,s()}),this.config.loadTimeout))}},e.prototype.preloadAllImages=function(){var e,t,n=this,r=this.service.state,o=function(){r=n.service.state};this.emitter.on(p.ReplayerEvents.Start,o),this.emitter.on(p.ReplayerEvents.Pause,o);var a=0,s=0;try{for(var c=i(this.service.state.context.events),l=c.next();!l.done;l=c.next()){var u=l.value;if(u.type===p.EventType.IncrementalSnapshot&&u.data.source===p.IncrementalSource.CanvasMutation&&"drawImage"===u.data.property&&"string"==typeof u.data.args[0]&&!this.imageMap.has(u)){a++;var d=document.createElement("img");d.src=u.data.args[0],this.imageMap.set(u,d),d.onload=function(){++s===a&&(r.matches("playing")&&n.play(n.getCurrentTime()),n.emitter.off(p.ReplayerEvents.Start,o),n.emitter.off(p.ReplayerEvents.Pause,o))}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}a!==s&&this.service.send({type:"PAUSE"})},e.prototype.applyIncremental=function(e,t){var n,r,i=this,o=e.data;switch(o.source){case p.IncrementalSource.Mutation:t&&(o.adds.forEach((function(e){return i.treeIndex.add(e)})),o.texts.forEach((function(e){return i.treeIndex.text(e)})),o.attributes.forEach((function(e){return i.treeIndex.attribute(e)})),o.removes.forEach((function(e){return i.treeIndex.remove(e)}))),this.applyMutation(o,t);break;case p.IncrementalSource.MouseMove:if(t){var a=o.positions[o.positions.length-1];this.moveAndHover(o,a.x,a.y,a.id)}else o.positions.forEach((function(t){var n={doAction:function(){i.moveAndHover(o,t.x,t.y,t.id)},delay:t.timeOffset+e.timestamp-i.service.state.context.baselineTime};i.timer.addAction(n)})),this.timer.addAction({doAction:function(){},delay:e.delay-(null===(n=o.positions[0])||void 0===n?void 0:n.timeOffset)});break;case p.IncrementalSource.MouseInteraction:if(-1===o.id)break;var s=new Event(p.MouseInteractions[o.type].toLowerCase());if(!(y=f.mirror.getNode(o.id)))return this.debugNodeNotFound(o,o.id);this.emitter.emit(p.ReplayerEvents.MouseInteraction,{type:o.type,target:y});var c=this.config.triggerFocus;switch(o.type){case p.MouseInteractions.Blur:"blur"in y&&y.blur();break;case p.MouseInteractions.Focus:c&&y.focus&&y.focus({preventScroll:!0});break;case p.MouseInteractions.Click:case p.MouseInteractions.TouchStart:case p.MouseInteractions.TouchEnd:t||(this.moveAndHover(o,o.x,o.y,o.id),this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active"));break;default:y.dispatchEvent(s)}break;case p.IncrementalSource.Scroll:if(-1===o.id)break;if(t){this.treeIndex.scroll(o);break}this.applyScroll(o);break;case p.IncrementalSource.ViewportResize:this.emitter.emit(p.ReplayerEvents.Resize,{width:o.width,height:o.height});break;case p.IncrementalSource.Input:if(-1===o.id)break;if(t){this.treeIndex.input(o);break}this.applyInput(o);break;case p.IncrementalSource.MediaInteraction:if(!(y=f.mirror.getNode(o.id)))return this.debugNodeNotFound(o,o.id);var l=y;try{1===o.type&&l.pause(),0===o.type&&(l.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA?l.play():l.addEventListener("canplay",(function(){l.play()})))}catch(e){this.config.showWarning&&console.warn("Failed to replay media interactions: "+(e.message||e))}break;case p.IncrementalSource.StyleSheetRule:if(!(y=f.mirror.getNode(o.id)))return this.debugNodeNotFound(o,o.id);var u=y,d=y.parentNode,h=this.fragmentParentMap.has(d),m=void 0;if(h){var v=this.fragmentParentMap.get(y.parentNode);m=document.createTextNode(""),d.replaceChild(m,y),v.appendChild(y)}var g=u.sheet;o.adds&&o.adds.forEach((function(e){var t=e.rule,n=e.index;try{var r=void 0===n?void 0:Math.min(n,g.rules.length);try{g.insertRule(t,r)}catch(e){}}catch(e){}})),o.removes&&o.removes.forEach((function(e){var t=e.index;try{g.deleteRule(t)}catch(e){}})),h&&m&&d.replaceChild(y,m);break;case p.IncrementalSource.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;var y;if(!(y=f.mirror.getNode(o.id)))return this.debugNodeNotFound(o,o.id);try{var b=y.getContext("2d");if(o.setter)return void(b[o.property]=o.args[0]);var w=b[o.property];if("drawImage"===o.property&&"string"==typeof o.args[0]){var T=this.imageMap.get(e);o.args[0]=T,w.apply(b,o.args)}else w.apply(b,o.args)}catch(e){this.warnCanvasMutationFailed(o,o.id,e)}break;case p.IncrementalSource.Font:try{var S=new FontFace(o.family,o.buffer?new Uint8Array(JSON.parse(o.fontSource)):o.fontSource,o.descriptors);null===(r=this.iframe.contentDocument)||void 0===r||r.fonts.add(S)}catch(e){this.config.showWarning&&console.warn(e)}break;case p.IncrementalSource.Log:try{var E=e.data,_=this.config.logConfig.replayLogger;"function"==typeof _[E.level]&&_[E.level](E)}catch(e){this.config.showWarning&&console.warn(e)}}},e.prototype.applyMutation=function(e,t){var n,o,a=this;e.removes.forEach((function(t){var n=f.mirror.getNode(t.id);if(!n)return a.warnNodeNotFound(e,t.id);var r=f.mirror.getNode(t.parentId);if(!r)return a.warnNodeNotFound(e,t.parentId);if(f.mirror.removeNodeFromMap(n),r){var i=a.fragmentParentMap.get(r);if(i&&i.contains(n))i.removeChild(n);else if(a.fragmentParentMap.has(n)){var o=a.fragmentParentMap.get(n);r.removeChild(o),a.fragmentParentMap.delete(n)}else r.removeChild(n)}}));var c=r({},this.legacy_missingNodeRetryMap),l=[],u=function(e){if(!a.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");var n=f.mirror.getNode(e.parentId);if(!n)return l.push(e);var r=null;if(a.iframe.contentDocument.contains?r=a.iframe.contentDocument.contains(n):a.iframe.contentDocument.body.contains&&(r=a.iframe.contentDocument.body.contains(n)),t&&r){var i=document.createDocumentFragment();for(f.mirror.map[e.parentId]=i,a.fragmentParentMap.set(i,n),a.storeState(n);n.firstChild;)i.appendChild(n.firstChild);n=i}var o=null,u=null;if(e.previousId&&(o=f.mirror.getNode(e.previousId)),e.nextId&&(u=f.mirror.getNode(e.nextId)),function(e){var t=null;return e.nextId&&(t=f.mirror.getNode(e.nextId)),null!==e.nextId&&void 0!==e.nextId&&-1!==e.nextId&&!t}(e))return l.push(e);var d=s.buildNodeWithSN(e.node,{doc:a.iframe.contentDocument,map:f.mirror.map,skipChild:!0,hackCss:!0});-1!==e.previousId&&-1!==e.nextId?(o&&o.nextSibling&&o.nextSibling.parentNode?n.insertBefore(d,o.nextSibling):u&&u.parentNode?n.contains(u)?n.insertBefore(d,u):n.insertBefore(d,null):n.appendChild(d),(e.previousId||e.nextId)&&a.legacy_resolveMissingNode(c,n,d,e)):c[e.node.id]={node:d,mutation:e}};e.adds.forEach((function(e){u(e)}));for(var d=Date.now();l.length;){var p=f.queueToResolveTrees(l);if(l.length=0,Date.now()-d>500){this.warn("Timeout in the loop, please check the resolve tree data:",p);break}try{for(var h=(n=void 0,i(p)),m=h.next();!m.done;m=h.next()){var v=m.value;f.mirror.getNode(v.value.parentId)?f.iterateResolveTree(v,(function(e){u(e)})):this.debug("Drop resolve tree since there is no parent for the root node.",v)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}}Object.keys(c).length&&Object.assign(this.legacy_missingNodeRetryMap,c),e.texts.forEach((function(t){var n=f.mirror.getNode(t.id);if(!n)return a.warnNodeNotFound(e,t.id);a.fragmentParentMap.has(n)&&(n=a.fragmentParentMap.get(n)),n.textContent=t.value})),e.attributes.forEach((function(t){var n=f.mirror.getNode(t.id);if(!n)return a.warnNodeNotFound(e,t.id);for(var r in a.fragmentParentMap.has(n)&&(n=a.fragmentParentMap.get(n)),t.attributes)if("string"==typeof r){var i=t.attributes[r];try{null!==i?n.setAttribute(r,i):n.removeAttribute(r)}catch(e){a.config.showWarning&&console.warn("An error occurred may due to the checkout feature.",e)}}}))},e.prototype.applyScroll=function(e){var t=f.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);if(t===this.iframe.contentDocument)this.iframe.contentWindow.scrollTo({top:e.y,left:e.x,behavior:"smooth"});else try{t.scrollTop=e.y,t.scrollLeft=e.x}catch(e){}},e.prototype.applyInput=function(e){var t=f.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(e){}},e.prototype.formatMessage=function(e){if(0===e.trace.length)return"";var t="\n\tat ";return t+=e.trace.join("\n\tat ")},e.prototype.getConsoleLogger=function(){var e,t,n=this,r={},o=function(e){r[e]="trace"===e?function(e){(console.log.__rrweb_original__?console.log.__rrweb_original__:console.log).apply(void 0,a(e.payload.map((function(e){return JSON.parse(e)})),[n.formatMessage(e)]))}:function(t){(console[e].__rrweb_original__?console[e].__rrweb_original__:console[e]).apply(void 0,a(t.payload.map((function(e){return JSON.parse(e)})),[n.formatMessage(t)]))}};try{for(var s=i(this.config.logConfig.level),c=s.next();!c.done;c=s.next())o(c.value)}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return r},e.prototype.legacy_resolveMissingNode=function(e,t,n,r){var i=r.previousId,o=r.nextId,a=i&&e[i],s=o&&e[o];if(a){var c=a,l=c.node,u=c.mutation;t.insertBefore(l,n),delete e[u.node.id],delete this.legacy_missingNodeRetryMap[u.node.id],(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(e,t,l,u)}if(s){var d=s;l=d.node,u=d.mutation,t.insertBefore(l,n.nextSibling),delete e[u.node.id],delete this.legacy_missingNodeRetryMap[u.node.id],(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(e,t,l,u)}},e.prototype.moveAndHover=function(e,t,n,r){this.mouse.style.left=t+"px",this.mouse.style.top=n+"px",this.drawMouseTail({x:t,y:n});var i=f.mirror.getNode(r);if(!i)return this.debugNodeNotFound(e,r);this.hoverElements(i)},e.prototype.drawMouseTail=function(e){var t=this;if(this.mouseTail){var n=!0===this.config.mouseTail?v:Object.assign({},v,this.config.mouseTail),r=n.lineCap,i=n.lineWidth,o=n.strokeStyle,a=n.duration,s=function(){if(t.mouseTail){var e=t.mouseTail.getContext("2d");e&&t.tailPositions.length&&(e.clearRect(0,0,t.mouseTail.width,t.mouseTail.height),e.beginPath(),e.lineWidth=i,e.lineCap=r,e.strokeStyle=o,e.moveTo(t.tailPositions[0].x,t.tailPositions[0].y),t.tailPositions.forEach((function(t){return e.lineTo(t.x,t.y)})),e.stroke())}};this.tailPositions.push(e),s(),setTimeout((function(){t.tailPositions=t.tailPositions.filter((function(t){return t!==e})),s()}),a/this.speedService.state.context.timer.speed)}},e.prototype.hoverElements=function(e){var t;null===(t=this.iframe.contentDocument)||void 0===t||t.querySelectorAll(".\\:hover").forEach((function(e){e.classList.remove(":hover")}));for(var n=e;n;)n.classList&&n.classList.add(":hover"),n=n.parentElement},e.prototype.isUserInteraction=function(e){return e.type===p.EventType.IncrementalSnapshot&&e.data.source>p.IncrementalSource.Mutation&&e.data.source<=p.IncrementalSource.Input},e.prototype.backToNormal=function(){this.inactiveEndTimestamp=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(p.ReplayerEvents.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))},e.prototype.storeState=function(e){var t,n;if(e&&e.nodeType===e.ELEMENT_NODE){var r=e;(r.scrollLeft||r.scrollTop)&&this.elementStateMap.set(e,{scroll:[r.scrollLeft,r.scrollTop]});var o=r.children;try{for(var a=i(Array.from(o)),s=a.next();!s.done;s=a.next()){var c=s.value;this.storeState(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},e.prototype.restoreState=function(e){var t,n;if(e.nodeType===e.ELEMENT_NODE){var r=e;if(this.elementStateMap.has(e)){var o=this.elementStateMap.get(e);o.scroll&&(r.scrollLeft=o.scroll[0],r.scrollTop=o.scroll[1]),this.elementStateMap.delete(e)}var a=r.children;try{for(var s=i(Array.from(a)),c=s.next();!c.done;c=s.next()){var l=c.value;this.restoreState(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},e.prototype.warnNodeNotFound=function(e,t){this.warn("Node with id '"+t+"' not found in",e)},e.prototype.warnCanvasMutationFailed=function(e,t,n){this.warn("Has error on update canvas '"+t+"'",e,n)},e.prototype.debugNodeNotFound=function(e,t){this.debug("[replayer]","Node with id '"+t+"' not found in",e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.config.showWarning&&console.warn.apply(console,a(["[replayer]"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.config.showDebug&&console.log.apply(console,a(["[replayer]"],e))},e}();t.Replayer=y},"./src/replay/machine.ts":
/*!*******************************!*\
  !*** ./src/replay/machine.ts ***!
  \*******************************/function(e,t,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.createSpeedService=t.createPlayerService=t.discardPriorSnapshots=void 0;var o=n(/*! @xstate/fsm */"./node_modules/@xstate/fsm/es/index.js"),a=n(/*! ../types */"./src/types.ts"),s=n(/*! ./timer */"./src/replay/timer.ts"),c=n(/*! ../utils */"./src/utils.ts");function l(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.type===a.EventType.Meta&&r.timestamp<=t)return e.slice(n)}return e}t.discardPriorSnapshots=l,t.createPlayerService=function(e,t){var n=t.getCastFn,u=t.emitter,d=o.createMachine({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:o.assign({lastPlayedEvent:function(e,t){return"CAST_EVENT"===t.type?t.payload.event:e.lastPlayedEvent}}),recordTimeOffset:o.assign((function(e,t){var n=e.timeOffset;return"payload"in t&&"timeOffset"in t.payload&&(n=t.payload.timeOffset),r(r({},e),{timeOffset:n,baselineTime:e.events[0].timestamp+n})})),play:function(e){var t,r,o,d,p;console.warn("play");var f=e.timer,h=e.events,m=e.baselineTime,v=e.lastPlayedEvent;f.clear();try{for(var g=i(h),y=g.next();!y.done;y=g.next()){var b=y.value;s.addDelay(b,m)}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}var w=l(h,m),T=new Array,S=function(e){var t=null==v?void 0:v.timestamp;if((null==v?void 0:v.type)===a.EventType.IncrementalSnapshot&&v.data.source===a.IncrementalSource.MouseMove&&(t=v.timestamp+(null===(p=v.data.positions[0])||void 0===p?void 0:p.timeOffset)),t&&t<m&&(e.timestamp<=t||e===v))return"continue";var r=e.timestamp<m;if(r&&!c.needCastInSyncMode(e))return"continue";var i=n(e,r);r?i():T.push({doAction:function(){i(),u.emit(a.ReplayerEvents.EventCast,e)},delay:e.delay})};try{for(var E=i(w),_=E.next();!_.done;_=E.next())S(_.value)}catch(e){o={error:e}}finally{try{_&&!_.done&&(d=E.return)&&d.call(E)}finally{if(o)throw o.error}}u.emit(a.ReplayerEvents.Flush),f.addActions(T),f.start()},pause:function(e){e.timer.clear()},resetLastPlayedEvent:o.assign((function(e){return r(r({},e),{lastPlayedEvent:null})})),startLive:o.assign({baselineTime:function(e,t){return e.timer.toggleLiveMode(!0),e.timer.start(),"TO_LIVE"===t.type&&t.payload.baselineTime?t.payload.baselineTime:Date.now()}}),addEvent:o.assign((function(e,t){var i=e.baselineTime,o=e.timer,c=e.events;if("ADD_EVENT"===t.type){var l=t.payload.event;s.addDelay(l,i),c.push(l);var d=l.timestamp<i,p=n(l,d);d?p():(o.addAction({doAction:function(){p(),u.emit(a.ReplayerEvents.EventCast,l)},delay:l.delay}),o.isActive()||o.start())}return r(r({},e),{events:c})}))}});return o.interpret(d)},t.createSpeedService=function(e){var t=o.createMachine({id:"speed",context:e,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:function(e,t){"payload"in t&&e.timer.setSpeed(t.payload.speed)},recordSpeed:o.assign({normalSpeed:function(e){return e.timer.speed}}),restoreSpeed:function(e){e.timer.setSpeed(e.normalSpeed)}}});return o.interpret(t)}},"./src/replay/smoothscroll.ts":
/*!************************************!*\
  !*** ./src/replay/smoothscroll.ts ***!
  \************************************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.polyfill=void 0,t.polyfill=function(e,t){if(void 0===e&&(e=window),void 0===t&&(t=document),!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=p(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function u(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function d(e){var t=l(e,"Y")&&u(e,"Y"),n=l(e,"X")&&u(e,"X");return t||n}function p(e){for(;e!==t.body&&!1===d(e);)e=e.parentNode||e.host;return e}function f(t){var n,r,i,a,s=(o()-t.startTime)/468;a=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,i),r===t.x&&i===t.y||e.requestAnimationFrame(f.bind(e,t))}function h(n,r,a){var c,l,u,d,p=o();n===t.body?(c=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=i.scroll):(c=n,l=n.scrollLeft,u=n.scrollTop,d=s),f({scrollable:c,method:d,startTime:p,startX:l,startY:u,x:r,y:a})}}},"./src/replay/styles/inject-style.ts":
/*!*******************************************!*\
  !*** ./src/replay/styles/inject-style.ts ***!
  \*******************************************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return["iframe, ."+e+" { background: #ccc }","noscript { display: none !important; }","."+e+" { background: black; border-radius: 5px; }","."+e+":hover::after {content: 'Redacted'; color: white; text-align: center; width: 100%; display: block;}"]}},"./src/replay/timer.ts":
/*!*****************************!*\
  !*** ./src/replay/timer.ts ***!
  \*****************************/function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.addDelay=t.Timer=void 0;var o=n(/*! ../types */"./src/types.ts"),a=function(){function e(e,t){void 0===e&&(e=[]),this.timeOffset=0,this.raf=null,this.actions=e,this.speed=t}return e.prototype.addAction=function(e){var t=this.findActionIndex(e);this.actions.splice(t,0,e)},e.prototype.addActions=function(e){var t;(t=this.actions).push.apply(t,i(e))},e.prototype.start=function(){this.actions.sort((function(e,t){return e.delay-t.delay})),this.timeOffset=0;var e=performance.now(),t=this.actions,n=this;this.raf=requestAnimationFrame((function r(){var i=performance.now();for(n.timeOffset+=(i-e)*n.speed,e=i;t.length;){var o=t[0];if(!(n.timeOffset>=o.delay))break;t.shift(),o.doAction()}(t.length>0||n.liveMode)&&(n.raf=requestAnimationFrame(r))}))},e.prototype.clear=function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0},e.prototype.setSpeed=function(e){this.speed=e},e.prototype.toggleLiveMode=function(e){this.liveMode=e},e.prototype.isActive=function(){return null!==this.raf},e.prototype.findActionIndex=function(e){for(var t=0,n=this.actions.length-1;t<=n;){var r=Math.floor((t+n)/2);if(this.actions[r].delay<e.delay)t=r+1;else{if(!(this.actions[r].delay>e.delay))return r;n=r-1}}return t},e}();t.Timer=a,t.addDelay=function(e,t){if(e.type===o.EventType.IncrementalSnapshot&&e.data.source===o.IncrementalSource.MouseMove){var n=e.data.positions[0].timeOffset,r=e.timestamp+n;return e.delay=r-t,r-t}return e.delay=e.timestamp-t,e.delay}},"./src/snapshot/css.ts":
/*!*****************************!*\
  !*** ./src/snapshot/css.ts ***!
  \*****************************/function(e,t){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function i(e){return e?e.replace(/^\s+|\s+$/g,""):""}t.parse=function(e,t){void 0===t&&(t={});var o=1,a=1;function s(e){var t=e.match(/\n/g);t&&(o+=t.length);var n=e.lastIndexOf("\n");a=-1===n?a+e.length:e.length-n}function c(){var e={line:o,column:a};return function(t){return t.position=new l(e),v(),t}}var l=function(e){this.start=e,this.end={line:o,column:a},this.source=t.source};l.prototype.content=e;var u=[];function d(n){var r=new Error(t.source+":"+o+":"+a+": "+n);if(r.reason=n,r.filename=t.source,r.line=o,r.column=a,r.source=e,!t.silent)throw r;u.push(r)}function p(){return m(/^{\s*/)}function f(){return m(/^}/)}function h(){var t,n,r,i=[];for(v(),g(i);e.length&&"}"!==e.charAt(0)&&(t=I()||(n=void 0,r=void 0,n=c(),(r=b())?(g(),n({type:"rule",selectors:r,declarations:T()})):d("selector missing")));)!1!==t&&(i.push(t),g(i));return i}function m(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function v(){m(/^\s*/)}function g(e){var t;for(void 0===e&&(e=[]);t=y();)!1!==t&&e.push(t),t=y();return e}function y(){var t=c();if("/"===e.charAt(0)&&"*"===e.charAt(1)){for(var n=2;""!==e.charAt(n)&&("*"!==e.charAt(n)||"/"!==e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return d("End of comment missing");var r=e.slice(2,n-2);return a+=2,s(r),e=e.slice(n),a+=2,t({type:"comment",comment:r})}}function b(){var e=m(/^([^{]+)/);if(e)return i(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function w(){var e=c(),t=m(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){var n=i(t[0]);if(!m(/^:\s*/))return d("property missing ':'");var o=m(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),a=e({type:"declaration",property:n.replace(r,""),value:o?i(o[0]).replace(r,""):""});return m(/^[;\s]*/),a}}function T(){var e,t=[];if(!p())return d("missing '{'");for(g(t);e=w();)!1!==e&&(t.push(e),g(t)),e=w();return f()?t:d("missing '}'")}function S(){for(var e,t=[],n=c();e=m(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),m(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:T()})}var E,_=k("import"),O=k("charset"),N=k("namespace");function k(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=c(),r=m(t);if(r){var i={type:e};return i[e]=r[1].trim(),n(i)}}}function I(){if("@"===e[0])return function(){var e=c(),t=m(/^@([-\w]+)?keyframes\s*/);if(t){var n=t[1];if(!(t=m(/^([-\w]+)\s*/)))return d("@keyframes missing name");var r,i=t[1];if(!p())return d("@keyframes missing '{'");for(var o=g();r=S();)o.push(r),o=o.concat(g());return f()?e({type:"keyframes",name:i,vendor:n,keyframes:o}):d("@keyframes missing '}'")}}()||function(){var e=c(),t=m(/^@media *([^{]+)/);if(t){var n=i(t[1]);if(!p())return d("@media missing '{'");var r=g().concat(h());return f()?e({type:"media",media:n,rules:r}):d("@media missing '}'")}}()||function(){var e=c(),t=m(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:i(t[1]),media:i(t[2])})}()||function(){var e=c(),t=m(/^@supports *([^{]+)/);if(t){var n=i(t[1]);if(!p())return d("@supports missing '{'");var r=g().concat(h());return f()?e({type:"supports",supports:n,rules:r}):d("@supports missing '}'")}}()||_()||O()||N()||function(){var e=c(),t=m(/^@([-\w]+)?document *([^{]+)/);if(t){var n=i(t[1]),r=i(t[2]);if(!p())return d("@document missing '{'");var o=g().concat(h());return f()?e({type:"document",document:r,vendor:n,rules:o}):d("@document missing '}'")}}()||function(){var e=c();if(m(/^@page */)){var t=b()||[];if(!p())return d("@page missing '{'");for(var n,r=g();n=w();)r.push(n),r=r.concat(g());return f()?e({type:"page",selectors:t,declarations:r}):d("@page missing '}'")}}()||function(){var e=c();if(m(/^@host\s*/)){if(!p())return d("@host missing '{'");var t=g().concat(h());return f()?e({type:"host",rules:t}):d("@host missing '}'")}}()||function(){var e=c();if(m(/^@font-face\s*/)){if(!p())return d("@font-face missing '{'");for(var t,n=g();t=w();)n.push(t),n=n.concat(g());return f()?e({type:"font-face",declarations:n}):d("@font-face missing '}'")}}()}return function e(t,r){var i,o,a=t&&"string"==typeof t.type,s=a?t:r;try{for(var c=n(Object.keys(t)),l=c.next();!l.done;l=c.next()){var u=l.value,d=t[u];Array.isArray(d)?d.forEach((function(t){e(t,s)})):d&&"object"==typeof d&&e(d,s)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:r||null}),t}((E=h(),{type:"stylesheet",stylesheet:{source:t.source,rules:E,parsingErrors:u}}))}},"./src/snapshot/index.ts":
/*!*******************************!*\
  !*** ./src/snapshot/index.ts ***!
  \*******************************/function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.IGNORED_NODE=t.cleanupSnapshot=t.visitSnapshot=t.transformAttribute=t.addHoverClass=t.buildNodeWithSN=t.rebuild=t.serializeNodeWithId=t.snapshot=void 0;var o=n(/*! ./snapshot */"./src/snapshot/snapshot.ts");t.snapshot=o.default,Object.defineProperty(t,"serializeNodeWithId",{enumerable:!0,get:function(){return o.serializeNodeWithId}}),Object.defineProperty(t,"transformAttribute",{enumerable:!0,get:function(){return o.transformAttribute}}),Object.defineProperty(t,"visitSnapshot",{enumerable:!0,get:function(){return o.visitSnapshot}}),Object.defineProperty(t,"cleanupSnapshot",{enumerable:!0,get:function(){return o.cleanupSnapshot}}),Object.defineProperty(t,"IGNORED_NODE",{enumerable:!0,get:function(){return o.IGNORED_NODE}});var a=n(/*! ./rebuild */"./src/snapshot/rebuild.ts");t.rebuild=a.default,Object.defineProperty(t,"buildNodeWithSN",{enumerable:!0,get:function(){return a.buildNodeWithSN}}),Object.defineProperty(t,"addHoverClass",{enumerable:!0,get:function(){return a.addHoverClass}}),i(n(/*! ./types */"./src/snapshot/types.ts"),t)},"./src/snapshot/rebuild.ts":
/*!*********************************!*\
  !*** ./src/snapshot/rebuild.ts ***!
  \*********************************/function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNodeWithSN=t.addHoverClass=void 0;var i=n(/*! ./css */"./src/snapshot/css.ts"),o=n(/*! ./types */"./src/snapshot/types.ts"),a={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"},s=/([^\\]):hover/g;function c(e){var t;if(!(null===(t=window.HIG_CONFIGURATION)||void 0===t?void 0:t.enableOnHoverClass))return e;var n=i.parse(e,{silent:!0});return n.stylesheet?(n.stylesheet.rules.forEach((function(t){"selectors"in t&&(t.selectors||[]).forEach((function(t){if(s.test(t)){var n=t.replace(s,"$1.\\:hover");e=e.replace(t,t+", "+n)}}))})),e):e}function l(e,t){var n=t.doc,i=t.hackCss;switch(e.type){case o.NodeType.Document:return n.implementation.createDocument(null,"",null);case o.NodeType.DocumentType:return n.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case o.NodeType.Element:var s,l=function(e){var t=a[e.tagName]?a[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e);s=e.isSVG?n.createElementNS("http://www.w3.org/2000/svg",l):n.createElement(l);var u=function(t){var o,a;if(!e.attributes.hasOwnProperty(t))return"continue";var u=e.attributes[t];if(u="boolean"==typeof u||"number"==typeof u?"":u,t.startsWith("rr_")){if("canvas"===l&&"rr_dataURL"===t){var d=document.createElement("img");d.src=u,d.onload=function(){var e=s.getContext("2d");e&&e.drawImage(d,0,0,d.width,d.height)}}if("rr_width"===t&&(s.style.width=u),"rr_height"===t&&(s.style.height=u),"rr_mediaState"===t)switch(u){case"played":s.play();case"paused":s.pause()}}else{var p="textarea"===l&&"value"===t,f="style"===l&&"_cssText"===t;if(f&&i&&(u=c(u)),p||f){var h=n.createTextNode(u);try{for(var m=(o=void 0,r(Array.from(s.childNodes))),v=m.next();!v.done;v=m.next()){var g=v.value;g.nodeType===s.TEXT_NODE&&s.removeChild(g)}}catch(e){o={error:e}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}return s.appendChild(h),"continue"}if("iframe"===l&&"src"===t)return"continue";try{e.isSVG&&"xlink:href"===t?s.setAttributeNS("http://www.w3.org/1999/xlink",t,u):"onload"===t||"onclick"===t||"onmouse"===t.substring(0,7)?s.setAttribute("_"+t,u):s.setAttribute(t,u)}catch(e){}}};for(var d in e.attributes)u(d);return s;case o.NodeType.Text:return n.createTextNode(e.isStyle&&i?c(e.textContent):e.textContent);case o.NodeType.CDATA:return n.createCDATASection(e.textContent);case o.NodeType.Comment:return n.createComment(e.textContent);default:return null}}function u(e,t){var n,i,a=t.doc,s=t.map,c=t.skipChild,d=void 0!==c&&c,p=t.hackCss,f=void 0===p||p,h=l(e,{doc:a,hackCss:f});if(!h)return null;if(e.type===o.NodeType.Document&&(a.close(),a.open(),h=a),h.__sn=e,s[e.id]=h,(e.type===o.NodeType.Document||e.type===o.NodeType.Element)&&!d)try{for(var m=r(e.childNodes),v=m.next();!v.done;v=m.next()){var g=v.value,y=u(g,{doc:a,map:s,skipChild:!1,hackCss:f});y?h.appendChild(y):console.warn("Failed to rebuild",g)}}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}return h}t.addHoverClass=c,t.buildNodeWithSN=u,t.default=function(e,t){var n=t.doc,r=t.onVisit,i=t.hackCss,a={},s=u(e,{doc:n,map:a,skipChild:!1,hackCss:void 0===i||i});return function(e,t){for(var n in e)e[n]&&(r=e[n],t(r));var r}(a,(function(e){r&&r(e),function(e){var t=e.__sn;if(t.type===o.NodeType.Element){var n=e;for(var r in t.attributes)if(t.attributes.hasOwnProperty(r)&&r.startsWith("rr_")){var i=t.attributes[r];"rr_scrollLeft"===r&&(n.scrollLeft=i),"rr_scrollTop"===r&&(n.scrollTop=i)}}}(e)})),[s,a]}},"./src/snapshot/snapshot.ts":
/*!**********************************!*\
  !*** ./src/snapshot/snapshot.ts ***!
  \**********************************/function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupSnapshot=t.visitSnapshot=t.serializeNodeWithId=t._isBlockedElement=t.transformAttribute=t.absoluteToDoc=t.absoluteToStylesheet=t.IGNORED_NODE=void 0;var i=n(/*! ./types */"./src/snapshot/types.ts"),o=1,a=RegExp("[^a-z1-6-_]");function s(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(c).join(""):null}catch(e){return null}}function c(e){return function(e){return"styleSheet"in e}(e)?s(e.styleSheet)||"":e.cssText}t.IGNORED_NODE=-2;var l=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,u=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,d=/^(data:)([^,]*),(.*)/i;function p(e,t){return(e||"").replace(l,(function(e,n,i,o,a,s){var c,l,p,f=i||a||s,h=n||o||"";if(!f)return e;if(!u.test(f))return"url("+h+f+h+")";if(d.test(f))return"url("+h+f+h+")";if("/"===f[0])return"url("+h+(((p=t).indexOf("//")>-1?p.split("/").slice(0,3).join("/"):p.split("/")[0]).split("?")[0]+f)+h+")";var m=t.split("/"),v=f.split("/");m.pop();try{for(var g=r(v),y=g.next();!y.done;y=g.next()){var b=y.value;"."!==b&&(".."===b?m.pop():m.push(b))}}catch(e){c={error:e}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}return"url("+h+m.join("/")+h+")"}))}function f(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function h(){var e=document.createElement("a");return e.href="",e.href}function m(e,t,n){return"src"===t||("href"===t||"xlink:href"===t)&&n?f(e,n):"srcset"===t&&n?function(e,t){return""===t.trim()?t:t.split(",").map((function(t){var n=t.trimLeft().trimRight().split(" ");return 2===n.length?f(e,n[0])+" "+n[1]:1===n.length?""+f(e,n[0]):""})).join(", ")}(e,n):"style"===t&&n?p(n,h()):n}function v(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else e.classList.forEach((function(e){if(t.test(e))return!0}));return!!n&&e.matches(n)}function g(e,t){var n,o,c,l=t.doc,u=t.blockClass,d=t.blockSelector,f=t.inlineStylesheet,g=t.maskInputOptions,y=void 0===g?{}:g,b=t.recordCanvas,w=t.enableStrictPrivacy;switch(e.nodeType){case e.DOCUMENT_NODE:return{type:i.NodeType.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:i.NodeType.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:var T=v(e,u,d),S=function(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return a.test(t)?"div":t}(e),E={};try{for(var _=r(Array.from(e.attributes)),O=_.next();!O.done;O=_.next()){var N=O.value,k=N.name,I=N.value;E[k]=m(l,k,I)}}catch(e){n={error:e}}finally{try{O&&!O.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}if("link"===S&&f){var C,x=Array.from(l.styleSheets).find((function(t){return t.href===e.href}));(C=s(x))&&(delete E.rel,delete E.href,E._cssText=p(C,x.href))}if("style"===S&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(C=s(e.sheet))&&(E._cssText=p(C,h())),"input"!==S&&"textarea"!==S&&"select"!==S||(I=e.value,"radio"!==E.type&&"checkbox"!==E.type&&"submit"!==E.type&&"button"!==E.type&&I?E.value=y[E.type]||y[S]||"password"===E.type?"*".repeat(I.length):I:e.checked&&(E.checked=e.checked)),"option"===S){var A=e.parentElement;E.value===A.value&&(E.selected=e.selected)}if("canvas"===S&&b&&(E.rr_dataURL=e.toDataURL()),"audio"!==S&&"video"!==S||(E.rr_mediaState=e.paused?"paused":"played"),e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop),T||"img"===S&&w){var M=e.getBoundingClientRect(),D=M.width,P=M.height;E={class:E.class,rr_width:D+"px",rr_height:P+"px"},T=!0}return{type:i.NodeType.Element,tagName:S,attributes:E,childNodes:[],isSVG:(c=e,"svg"===c.tagName||c instanceof SVGElement||void 0),needBlock:T};case e.TEXT_NODE:var L=e.parentNode&&e.parentNode.tagName,R=e.textContent,j="STYLE"===L||void 0,F=!1;return j&&R&&(R=p(R,h()),F=!0),"SCRIPT"===L?(R="SCRIPT_PLACEHOLDER",F=!0):"NOSCRIPT"===L&&(R="",F=!0),w&&!F&&L&&(new Set(["HEAD","TITLE","STYLE","SCRIPT","HTML","BODY","NOSCRIPT"]).has(L)||(R=(null==R?void 0:R.split(" ").map((function(e){return Math.random().toString(20).substr(2,e.length)})).join(" "))||"")),{type:i.NodeType.Text,textContent:R||"",isStyle:j};case e.CDATA_SECTION_NODE:return{type:i.NodeType.CDATA,textContent:""};case e.COMMENT_NODE:return{type:i.NodeType.Comment,textContent:e.textContent||""};default:return!1}}function y(e){return void 0===e?"":e.toLowerCase()}function b(e,n){var a,s,c,l=n.doc,u=n.map,d=n.blockClass,p=n.blockSelector,f=n.skipChild,h=void 0!==f&&f,m=n.inlineStylesheet,v=void 0===m||m,w=n.maskInputOptions,T=void 0===w?{}:w,S=n.slimDOMOptions,E=n.recordCanvas,_=void 0!==E&&E,O=n.enableStrictPrivacy,N=n.preserveWhiteSpace,k=void 0===N||N,I=g(e,{doc:l,blockClass:d,blockSelector:p,inlineStylesheet:v,maskInputOptions:T,recordCanvas:_,enableStrictPrivacy:O});if(!I)return console.warn(e,"not serialized"),null;c="__sn"in e?e.__sn.id:!function(e,t){if(t.comment&&e.type===i.NodeType.Comment)return!0;if(e.type===i.NodeType.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(y(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===y(e.attributes.name)||"icon"===y(e.attributes.rel)||"apple-touch-icon"===y(e.attributes.rel)||"shortcut icon"===y(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&y(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(y(e.attributes.property).match(/^(og|twitter|fb):/)||y(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===y(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===y(e.attributes.name)||"googlebot"===y(e.attributes.name)||"bingbot"===y(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===y(e.attributes.name)||"generator"===y(e.attributes.name)||"framework"===y(e.attributes.name)||"publisher"===y(e.attributes.name)||"progid"===y(e.attributes.name)||y(e.attributes.property).match(/^article:/)||y(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===y(e.attributes.name)||"yandex-verification"===y(e.attributes.name)||"csrf-token"===y(e.attributes.name)||"p:domain_verify"===y(e.attributes.name)||"verify-v1"===y(e.attributes.name)||"verification"===y(e.attributes.name)||"shopify-checkout-api-token"===y(e.attributes.name)))return!0}}return!1}(I,S)&&(k||I.type!==i.NodeType.Text||I.isStyle||I.textContent.replace(/^\s+|\s+$/gm,"").length)?o++:t.IGNORED_NODE;var C=Object.assign(I,{id:c});if(e.__sn=C,c===t.IGNORED_NODE)return null;u[c]=e;var x=!h;if(C.type===i.NodeType.Element){if(x=x&&!C.needBlock,C.needBlock&&"img"===C.tagName){var A=e.cloneNode();A.src="",u[c]=A}delete C.needBlock}if((C.type===i.NodeType.Document||C.type===i.NodeType.Element)&&x){S.headWhitespace&&I.type===i.NodeType.Element&&"head"===I.tagName&&(k=!1);try{for(var M=r(Array.from(e.childNodes)),D=M.next();!D.done;D=M.next()){var P=b(D.value,{doc:l,map:u,blockClass:d,blockSelector:p,skipChild:h,inlineStylesheet:v,maskInputOptions:T,slimDOMOptions:S,recordCanvas:_,preserveWhiteSpace:k,enableStrictPrivacy:O});P&&C.childNodes.push(P)}}catch(e){a={error:e}}finally{try{D&&!D.done&&(s=M.return)&&s.call(M)}finally{if(a)throw a.error}}}return C}t.absoluteToStylesheet=p,t.absoluteToDoc=f,t.transformAttribute=m,t._isBlockedElement=v,t.serializeNodeWithId=b,t.visitSnapshot=function(e,t){!function e(n){t(n),n.type!==i.NodeType.Document&&n.type!==i.NodeType.Element||n.childNodes.forEach(e)}(e)},t.cleanupSnapshot=function(){o=1},t.default=function(e,t){var n=t||{},r=n.blockClass,i=void 0===r?"highlight-block":r,o=n.inlineStylesheet,a=void 0===o||o,s=n.recordCanvas,c=void 0!==s&&s,l=n.blockSelector,u=void 0===l?null:l,d=n.maskAllInputs,p=void 0!==d&&d,f=n.slimDOM,h=void 0!==f&&f,m=n.enableStrictPrivacy,v={};return[b(e,{doc:e,map:v,blockClass:i,blockSelector:u,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,slimDOMOptions:!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===h,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===h?{}:h,recordCanvas:c,enableStrictPrivacy:void 0!==m&&m}),v]}},"./src/snapshot/types.ts":
/*!*******************************!*\
  !*** ./src/snapshot/types.ts ***!
  \*******************************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=void 0,function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(t.NodeType||(t.NodeType={}))},"./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayerEvents=t.MediaInteractions=t.MouseInteractions=t.IncrementalSource=t.EventType=void 0,function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom"}(t.EventType||(t.EventType={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log"}(t.IncrementalSource||(t.IncrementalSource={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd"}(t.MouseInteractions||(t.MouseInteractions={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause"}(t.MediaInteractions||(t.MediaInteractions={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change"}(t.ReplayerEvents||(t.ReplayerEvents={}))},"./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/function(e,t,n){var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.iterateResolveTree=t.queueToResolveTrees=t.TreeIndex=t.needCastInSyncMode=t.polyfill=t.isTouchEvent=t.isAncestorRemoved=t.isIgnored=t.isBlocked=t.getWindowWidth=t.getWindowHeight=t.patch=t.hookSetter=t.throttle=t.mirror=t.on=void 0;var i=n(/*! ./types */"./src/types.ts"),o=n(/*! ./snapshot */"./src/snapshot/index.ts");t.on=function(e,t,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}},t.mirror={map:{},getId:function(e){return e.__sn?e.__sn.id:-1},getNode:function(e){return t.mirror.map[e]||null},removeNodeFromMap:function(e){var n=e.__sn&&e.__sn.id;delete t.mirror.map[n],e.childNodes&&e.childNodes.forEach((function(e){return t.mirror.removeNodeFromMap(e)}))},has:function(e){return t.mirror.map.hasOwnProperty(e)}},t.throttle=function(e,t,n){void 0===n&&(n={});var r=null,i=0;return function(o){var a=Date.now();i||!1!==n.leading||(i=a);var s=t-(a-i),c=this,l=arguments;s<=0||s>t?(r&&(window.clearTimeout(r),r=null),i=a,e.apply(c,l)):r||!1===n.trailing||(r=window.setTimeout((function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(c,l)}),s))}},t.hookSetter=function e(t,n,r,i,o){void 0===o&&(o=window);var a=o.Object.getOwnPropertyDescriptor(t,n);return o.Object.defineProperty(t,n,i?r:{set:function(e){var t=this;setTimeout((function(){r.set.call(t,e)}),0),a&&a.set&&a.set.call(this,e)}}),function(){return e(t,n,a||{},!0)}},t.patch=function(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(e){return function(){}}},t.getWindowHeight=function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},t.getWindowWidth=function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth},t.isBlocked=function e(t,n){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){var r=!1;return"string"==typeof n?r=t.classList.contains(n):t.classList.forEach((function(e){n.test(e)&&(r=!0)})),r||e(t.parentNode,n)}return t.nodeType,t.TEXT_NODE,e(t.parentNode,n)},t.isIgnored=function(e){return"__sn"in e&&e.__sn.id===o.IGNORED_NODE},t.isAncestorRemoved=function e(n){var r=t.mirror.getId(n);return!t.mirror.has(r)||(!n.parentNode||n.parentNode.nodeType!==n.DOCUMENT_NODE)&&(!n.parentNode||e(n.parentNode))},t.isTouchEvent=function(e){return Boolean(e.changedTouches)},t.polyfill=function(e){void 0===e&&(e=window),"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)},t.needCastInSyncMode=function(e){switch(e.type){case i.EventType.DomContentLoaded:case i.EventType.Load:case i.EventType.Custom:return!1;case i.EventType.FullSnapshot:case i.EventType.Meta:return!0}switch(e.data.source){case i.IncrementalSource.MouseMove:case i.IncrementalSource.MouseInteraction:case i.IncrementalSource.TouchMove:case i.IncrementalSource.MediaInteraction:return!1;case i.IncrementalSource.ViewportResize:case i.IncrementalSource.StyleSheetRule:case i.IncrementalSource.Scroll:case i.IncrementalSource.Input:return!0}return!0};var a=function(){function e(){this.reset()}return e.prototype.add=function(e){var t=this.indexes.get(e.parentId),n={id:e.node.id,mutation:e,children:[],texts:[],attributes:[]};t?(n.parent=t,t.children[n.id]=n):this.tree[n.id]=n,this.indexes.set(n.id,n)},e.prototype.remove=function(e){var n=this,r=this.indexes.get(e.parentId),i=this.indexes.get(e.id),o=function(e){n.removeIdSet.add(e);var r=t.mirror.getNode(e);null==r||r.childNodes.forEach((function(e){"__sn"in e&&o(e.__sn.id)}))},a=function(t){n.removeIdSet.add(t.id),Object.values(t.children).forEach((function(e){return a(e)}));var r=n.indexes.get(t.id);if(r){var i=r.parent;i&&(delete r.parent,delete i.children[r.id],n.indexes.delete(e.id))}};i?r?(delete i.parent,delete r.children[i.id],this.indexes.delete(e.id),a(i)):(delete this.tree[i.id],this.indexes.delete(i.id),a(i)):(this.removeNodeMutations.push(e),o(e.id))},e.prototype.text=function(e){var t=this.indexes.get(e.id);t?t.texts.push(e):this.textMutations.push(e)},e.prototype.attribute=function(e){var t=this.indexes.get(e.id);t?t.attributes.push(e):this.attributeMutations.push(e)},e.prototype.scroll=function(e){this.scrollMap.set(e.id,e)},e.prototype.input=function(e){this.inputMap.set(e.id,e)},e.prototype.flush=function(){var e,t,n,o,a=this,s=this.tree,c=this.removeNodeMutations,l=this.textMutations,u=this.attributeMutations,d={source:i.IncrementalSource.Mutation,removes:c,texts:l,attributes:u,adds:[]},p=function(e,t){t&&a.removeIdSet.add(e.id),d.texts=d.texts.concat(t?[]:e.texts).filter((function(e){return!a.removeIdSet.has(e.id)})),d.attributes=d.attributes.concat(t?[]:e.attributes).filter((function(e){return!a.removeIdSet.has(e.id)})),a.removeIdSet.has(e.id)||a.removeIdSet.has(e.mutation.parentId)||t?Object.values(e.children).forEach((function(e){return p(e,!0)})):(d.adds.push(e.mutation),e.children&&Object.values(e.children).forEach((function(e){return p(e,!1)})))};Object.values(s).forEach((function(e){return p(e,!1)}));try{for(var f=r(this.scrollMap.keys()),h=f.next();!h.done;h=f.next()){var m=h.value;this.removeIdSet.has(m)&&this.scrollMap.delete(m)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}try{for(var v=r(this.inputMap.keys()),g=v.next();!g.done;g=v.next())m=g.value,this.removeIdSet.has(m)&&this.inputMap.delete(m)}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}var y=new Map(this.scrollMap),b=new Map(this.inputMap);return this.reset(),{mutationData:d,scrollMap:y,inputMap:b}},e.prototype.reset=function(){this.tree=[],this.indexes=new Map,this.removeNodeMutations=[],this.textMutations=[],this.attributeMutations=[],this.removeIdSet=new Set,this.scrollMap=new Map,this.inputMap=new Map},e}();t.TreeIndex=a,t.queueToResolveTrees=function(e){var t,n,i={},o=function(e,t){var n={value:e,parent:t,children:[]};return i[e.node.id]=n,n},a=[];try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var l=c.value,u=l.nextId,d=l.parentId;if(u&&u in i){var p=i[u];if(p.parent){var f=p.parent.children.indexOf(p);p.parent.children.splice(f,0,o(l,p.parent))}else f=a.indexOf(p),a.splice(f,0,o(l,null))}else if(d in i){var h=i[d];h.children.push(o(l,h))}else a.push(o(l,null))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},t.iterateResolveTree=function e(t,n){n(t.value);for(var r=t.children.length-1;r>=0;r--)e(t.children[r],n)}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{var e=r;
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.mirror=e.Replayer=e.freezePage=e.addCustomEvent=e.record=void 0;var t=n(/*! ./record */"./src/record/index.ts");e.record=t.default;var i=n(/*! ./replay */"./src/replay/index.ts");Object.defineProperty(e,"Replayer",{enumerable:!0,get:function(){return i.Replayer}});var o=n(/*! ./utils */"./src/utils.ts");Object.defineProperty(e,"mirror",{enumerable:!0,get:function(){return o.mirror}});var a=n(/*! ./utils */"./src/utils.ts");e.utils=a;var s=n(/*! ./types */"./src/types.ts");Object.defineProperty(e,"EventType",{enumerable:!0,get:function(){return s.EventType}}),Object.defineProperty(e,"IncrementalSource",{enumerable:!0,get:function(){return s.IncrementalSource}}),Object.defineProperty(e,"MouseInteractions",{enumerable:!0,get:function(){return s.MouseInteractions}}),Object.defineProperty(e,"ReplayerEvents",{enumerable:!0,get:function(){return s.ReplayerEvents}});var c=t.default.addCustomEvent;e.addCustomEvent=c;var l=t.default.freezePage;e.freezePage=l})(),r})()},e.exports=r()},function(e,t){function n(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?r.splice(a,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}(e.exports=function(e,t,r,i){return JSON.stringify(e,n(t,i),r)}).getSerialize=n},function(e,t,n){var r=n(57).parse;function i(e){return e.replace(/[\s,]+/g," ").trim()}var o={},a={};var s=!0;var c=!1;function l(e){var t=i(e);if(o[t])return o[t];var n=r(e,{experimentalFragmentVariables:c});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=function e(t,n){var r=Object.prototype.toString.call(t);if("[object Array]"===r)return t.map((function(t){return e(t,n)}));if("[object Object]"!==r)throw new Error("Unexpected input.");n&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,o,a,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(o=t[s[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(t[s[i]]=e(o,!0)));return t}(n=function(e){for(var t,n={},r=[],o=0;o<e.definitions.length;o++){var c=e.definitions[o];if("FragmentDefinition"===c.kind){var l=c.name.value,u=i((t=c.loc).source.body.substring(t.start,t.end));a.hasOwnProperty(l)&&!a[l][u]?(s&&console.warn("Warning: fragment with name "+l+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),a[l][u]=!0):a.hasOwnProperty(l)||(a[l]={},a[l][u]=!0),n[u]||(n[u]=!0,r.push(c))}else r.push(c)}return e.definitions=r,e}(n),!1),o[t]=n,n}function u(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n="string"==typeof t?t:t[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?n+=e[r].loc.source.body:n+=e[r],n+=t[r];return l(n)}u.default=u,u.resetCaches=function(){o={},a={}},u.disableFragmentWarnings=function(){s=!1},u.enableExperimentalFragmentVariables=function(){c=!0},u.disableExperimentalFragmentVariables=function(){c=!1},e.exports=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return a(e,[])}function a(e,t){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function s(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,r&&(e.prototype[r]=t)}function c(e){return null!=e&&"string"==typeof e.kind}s(function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}()),s(function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}());var l={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},u=Object.freeze({});function d(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function p(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=void 0,i=Array.isArray(e),a=[e],s=-1,p=[],f=void 0,h=void 0,m=void 0,v=[],g=[],y=e;do{var b=++s===a.length,w=b&&0!==p.length;if(b){if(h=0===g.length?void 0:v[v.length-1],f=m,m=g.pop(),w){if(i)f=f.slice();else{for(var T={},S=0,E=Object.keys(f);S<E.length;S++){var _=E[S];T[_]=f[_]}f=T}for(var O=0,N=0;N<p.length;N++){var k=p[N][0],I=p[N][1];i&&(k-=O),i&&null===I?(f.splice(k,1),O++):f[k]=I}}s=r.index,a=r.keys,p=r.edits,i=r.inArray,r=r.prev}else{if(h=m?i?s:a[s]:void 0,null==(f=m?m[h]:y))continue;m&&v.push(h)}var C,x=void 0;if(!Array.isArray(f)){if(!c(f))throw new Error("Invalid AST Node: ".concat(o(f),"."));var A=d(t,f.kind,b);if(A){if((x=A.call(t,f,h,m,v,g))===u)break;if(!1===x){if(!b){v.pop();continue}}else if(void 0!==x&&(p.push([h,x]),!b)){if(!c(x)){v.pop();continue}f=x}}}if(void 0===x&&w&&p.push([h,f]),b)v.pop();else r={inArray:i,index:s,keys:a,edits:p,prev:r},a=(i=Array.isArray(f))?f:null!==(C=n[f.kind])&&void 0!==C?C:[],s=-1,p=[],m&&g.push(m),m=f}while(void 0!==r);return 0!==p.length&&(y=p[p.length-1][1]),y}(e,{leave:f})}var f={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return m(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=g("(",m(e.variableDefinitions,", "),")"),i=m(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?m([t,m([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+g(" = ",r)+g(" ",m(i," "))},SelectionSet:function(e){return v(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=g("",t,": ")+n,s=a+g("(",m(r,", "),")");return s.length>80&&(s=a+g("(\n",y(m(r,"\n")),"\n)")),m([s,m(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+g(" ",m(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return m(["...",g("on ",t),m(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(g("(",m(r,", "),")")," ")+"on ".concat(n," ").concat(g("",m(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";return!s||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+m(e.values,", ")+"]"},ObjectValue:function(e){return"{"+m(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+g("(",m(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:h((function(e){var t=e.directives,n=e.operationTypes;return m(["schema",m(t," "),v(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:h((function(e){return m(["scalar",e.name,m(e.directives," ")]," ")})),ObjectTypeDefinition:h((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return m(["type",t,g("implements ",m(n," & ")),m(r," "),v(i)]," ")})),FieldDefinition:h((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(w(n)?g("(\n",y(m(n,"\n")),"\n)"):g("(",m(n,", "),")"))+": "+r+g(" ",m(i," "))})),InputValueDefinition:h((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return m([t+": "+n,g("= ",r),m(i," ")]," ")})),InterfaceTypeDefinition:h((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return m(["interface",t,g("implements ",m(n," & ")),m(r," "),v(i)]," ")})),UnionTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.types;return m(["union",t,m(n," "),r&&0!==r.length?"= "+m(r," | "):""]," ")})),EnumTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.values;return m(["enum",t,m(n," "),v(r)]," ")})),EnumValueDefinition:h((function(e){return m([e.name,m(e.directives," ")]," ")})),InputObjectTypeDefinition:h((function(e){var t=e.name,n=e.directives,r=e.fields;return m(["input",t,m(n," "),v(r)]," ")})),DirectiveDefinition:h((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(w(n)?g("(\n",y(m(n,"\n")),"\n)"):g("(",m(n,", "),")"))+(r?" repeatable":"")+" on "+m(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return m(["extend schema",m(t," "),v(n)]," ")},ScalarTypeExtension:function(e){return m(["extend scalar",e.name,m(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return m(["extend type",t,g("implements ",m(n," & ")),m(r," "),v(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return m(["extend interface",t,g("implements ",m(n," & ")),m(r," "),v(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return m(["extend union",t,m(n," "),r&&0!==r.length?"= "+m(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return m(["extend enum",t,m(n," "),v(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return m(["extend input",t,m(n," "),v(r)]," ")}};function h(e){return function(t){return m([t.description,e(t)],"\n")}}function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function v(e){return g("{\n",y(m(e,"\n")),"\n}")}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function y(e){return g("  ",e.replace(/\n/g,"\n  "))}function b(e){return-1!==e.indexOf("\n")}function w(e){return null!=e&&e.some(b)}},function(e,t,n){var r,i,o;!function(a,s){"use strict";i=[n(38),n(39),n(40)],void 0===(o="function"==typeof(r=function(e,t,n){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},i=function(){try{throw new Error}catch(e){return e}};function o(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=i();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=o(r,n);var c=i();return s(a(c)?e.parse(c):t.backtrace(n),n.filter)},fromError:function(t,i){i=o(r,i);var a=new n(i);return new Promise(function(n){var r=s(e.parse(t),i.filter);n(Promise.all(r.map((function(e){return new Promise((function(t){function n(){t(e)}a.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=o(r,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw a(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,r){return new Promise((function(i,o){var a=new XMLHttpRequest;if(a.onerror=o,a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?i(a.responseText):o(new Error("POST to "+t+" failed with status: "+a.status)))},a.open("post",t),a.setRequestHeader("Content-Type","application/json"),r&&"object"==typeof r.headers){var s=r.headers;for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.setRequestHeader(c,s[c])}var l={stack:e};null!=n&&(l.message=n),a.send(JSON.stringify(l))}))}}})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var a,s=t.isAbsolute(n),c=n.split(/\/+/),l=0,u=c.length-1;u>=0;u--)"."===(a=c[u])?c.splice(u,1):".."===a?l++:l>0&&(""===a?(c.splice(u+1,l),l=0):(c.splice(u,2),l--));return""===(n=c.join("/"))&&(n=s?"/":"."),r?(r.path=n,o(r)):n}t.urlParse=i,t.urlGenerate=o,t.normalize=a,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),s=i(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),o(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,o(s);var c="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=c,o(s)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function u(e,t){return e===t?0:e>t?1:-1}t.toSetString=s?c:function(e){return l(e)?"$"+e:e},t.fromSetString=s?c:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=e.source-t.source)||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=u(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:u(e.name,t.name)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t="",n=e.getAttribute("class"),r=e.getAttribute("id");return r&&(t=t.concat(i(r,"#"))),n&&(t=t.concat(i(n,"."))),""===t&&(t=t.concat(e.tagName.toLowerCase())),t},i=function(e,t){return""+t+e.trim().split(" ").join(t)}},function(e,t,n){var r,i,o;!function(n,a){"use strict";i=[],void 0===(o="function"==typeof(r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=n.concat(r,i,["args"],["evalOrigin"]);function a(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},a.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),c=s[1],l=s[2],u=s[3];return new a({functionName:r,args:i||void 0,fileName:c,lineNumber:l||void 0,columnNumber:u||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+e(n[s])]=t(n[s]),a.prototype["set"+e(n[s])]=function(e){return function(t){this[e]=Boolean(t)}}(n[s]);for(var c=0;c<r.length;c++)a.prototype["get"+e(r[c])]=t(r[c]),a.prototype["set"+e(r[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[c]);for(var l=0;l<i.length;l++)a.prototype["get"+e(i[l])]=t(i[l]),a.prototype["set"+e(i[l])]=function(e){return function(t){this[e]=String(t)}}(i[l]);return a})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(51))&&r.__esModule?r:{default:r};var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,i.default)(o);var a=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,i.default)(a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return w}));var r,i,o,a,s,c,l=n(3),u=n(2),d=n.n(u),p=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=d()(r||(r=p(["\n    mutation PushPayload($session_id: ID!, $events: ReplayEventsInput!, $messages: String!, $resources: String!, $errors: [ErrorObjectInput]!) {\n  pushPayload(\n    session_id: $session_id\n    events: $events\n    messages: $messages\n    resources: $resources\n    errors: $errors\n  )\n}\n    "],["\n    mutation PushPayload($session_id: ID!, $events: ReplayEventsInput!, $messages: String!, $resources: String!, $errors: [ErrorObjectInput]!) {\n  pushPayload(\n    session_id: $session_id\n    events: $events\n    messages: $messages\n    resources: $resources\n    errors: $errors\n  )\n}\n    "]))),h=d()(i||(i=p(["\n    mutation identifySession($session_id: ID!, $user_identifier: String!, $user_object: Any) {\n  identifySession(\n    session_id: $session_id\n    user_identifier: $user_identifier\n    user_object: $user_object\n  )\n}\n    "],["\n    mutation identifySession($session_id: ID!, $user_identifier: String!, $user_object: Any) {\n  identifySession(\n    session_id: $session_id\n    user_identifier: $user_identifier\n    user_object: $user_object\n  )\n}\n    "]))),m=d()(o||(o=p(["\n    mutation addSessionProperties($session_id: ID!, $properties_object: Any) {\n  addSessionProperties(\n    session_id: $session_id\n    properties_object: $properties_object\n  )\n}\n    "],["\n    mutation addSessionProperties($session_id: ID!, $properties_object: Any) {\n  addSessionProperties(\n    session_id: $session_id\n    properties_object: $properties_object\n  )\n}\n    "]))),v=d()(a||(a=p(["\n    mutation addTrackProperties($session_id: ID!, $properties_object: Any) {\n  addTrackProperties(\n    session_id: $session_id\n    properties_object: $properties_object\n  )\n}\n    "],["\n    mutation addTrackProperties($session_id: ID!, $properties_object: Any) {\n  addTrackProperties(\n    session_id: $session_id\n    properties_object: $properties_object\n  )\n}\n    "]))),g=d()(s||(s=p(["\n    mutation initializeSession($organization_verbose_id: String!, $enable_strict_privacy: Boolean!, $clientVersion: String!, $firstloadVersion: String!, $clientConfig: String!, $environment: String!, $id: String!) {\n  initializeSession(\n    organization_verbose_id: $organization_verbose_id\n    enable_strict_privacy: $enable_strict_privacy\n    clientVersion: $clientVersion\n    firstloadVersion: $firstloadVersion\n    clientConfig: $clientConfig\n    environment: $environment\n    fingerprint: $id\n  ) {\n    id\n    user_id\n    organization_id\n  }\n}\n    "],["\n    mutation initializeSession($organization_verbose_id: String!, $enable_strict_privacy: Boolean!, $clientVersion: String!, $firstloadVersion: String!, $clientConfig: String!, $environment: String!, $id: String!) {\n  initializeSession(\n    organization_verbose_id: $organization_verbose_id\n    enable_strict_privacy: $enable_strict_privacy\n    clientVersion: $clientVersion\n    firstloadVersion: $firstloadVersion\n    clientConfig: $clientConfig\n    environment: $environment\n    fingerprint: $id\n  ) {\n    id\n    user_id\n    organization_id\n  }\n}\n    "]))),y=d()(c||(c=p(["\n    query Ignore($id: ID!) {\n  ignore(id: $id)\n}\n    "],["\n    query Ignore($id: ID!) {\n  ignore(id: $id)\n}\n    "]))),b=function(e){return e()};function w(e,t){return void 0===t&&(t=b),{PushPayload:function(n,r){return t((function(){return e.request(Object(l.a)(f),n,r)}))},identifySession:function(n,r){return t((function(){return e.request(Object(l.a)(h),n,r)}))},addSessionProperties:function(n,r){return t((function(){return e.request(Object(l.a)(m),n,r)}))},addTrackProperties:function(n,r){return t((function(){return e.request(Object(l.a)(v),n,r)}))},initializeSession:function(n,r){return t((function(){return e.request(Object(l.a)(g),n,r)}))},Ignore:function(n,r){return t((function(){return e.request(Object(l.a)(y),n,r)}))}}}},function(e,t,n){var r=n(11),i=n(5),o=n(12).ArraySet,a=n(43).MappingList;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new a,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)})),n},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},s.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var a=this._sourceRoot;null!=a&&(r=i.relative(a,r));var s=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var l=t.source;null==l||s.has(l)||s.add(l);var u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=s,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,r))}),this)},s.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t,n,o,a=0,s=1,c=0,l=0,u=0,d=0,p="",f=this._mappings.toArray(),h=0,m=f.length;h<m;h++){if(e="",(t=f[h]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(h>0){if(!i.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-d),d=o,e+=r.encode(t.originalLine-1-l),l=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),p+=e}return p},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=s},function(e,t,n){var r=n(42);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,a,s,c=e.length,l=0,u=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),l+=(o&=31)<<u,u+=5}while(i);n.value=(s=(a=l)>>1,1==(1&a)?-s:s),n.rest=t}},function(e,t,n){var r=n(5),i=Object.prototype.hasOwnProperty;function o(){this._array=[],this._set=Object.create(null)}o.fromArray=function(e,t){for(var n=new o,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},o.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var n=r.toSetString(e),o=i.call(this._set,n),a=this._array.length;o&&!t||this._array.push(e),o||(this._set[n]=a)},o.prototype.has=function(e){var t=r.toSetString(e);return i.call(this._set,t)},o.prototype.indexOf=function(e){var t=r.toSetString(e);if(i.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},o.prototype.toArray=function(){return this._array.slice()},t.ArraySet=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var r,i=(r=n(14))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=r},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function i(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),n=i(e);if(0!==n)for(var o=1;o<t.length;o++)t[o]=t[o].slice(n);var a=0;for(;a<t.length&&r(t[a]);)++a;var s=t.length;for(;s>a&&r(t[s-1]);)--s;return t.slice(a,s).join("\n")},t.getBlockStringIndentation=i,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";!s||r&&i||(c+="\n"+t);c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n");return'"""'+c.replace(/"""/g,'\\"""')+'"""'}},function(e,t,n){"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var o=function(e){function t(n,r){var i=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,o)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return i(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: ".concat(n),void 0,e,[t])};var r=n(58)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_TO_STRING_TAG=t.SYMBOL_ASYNC_ITERATOR=t.SYMBOL_ITERATOR=void 0;var r="function"==typeof Symbol&&null!=Symbol.iterator?Symbol.iterator:"@@iterator";t.SYMBOL_ITERATOR=r;var i="function"==typeof Symbol&&null!=Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator";t.SYMBOL_ASYNC_ITERATOR=i;var o="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";t.SYMBOL_TO_STRING_TAG=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;for(;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0;var r=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});t.TokenKind=r},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var r=n(0),i=n(24),o=n(25),a=n(26),s=n(27),c=n(9),l=n(4),u=n.n(l),d=n(1),p=n.n(d),f=n(3),h=n(28),m=n(29),v=n(30),g=n(31),y=n(32),b=(n(67),n(33)),w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_=function(e,t){console.warn("Highlight Warning: ("+e+"): ",{output:t})},O=function(){function e(e){this.debug=e}return e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.log.apply(console,e)},e}(),N=function(){function t(t){var n;this._recordingStartTime=0,console.log("options",t),"boolean"==typeof(null==t?void 0:t.debug)?this.debugOptions=t.debug?{clientInteractions:!0}:{}:this.debugOptions=null!==(n=null==t?void 0:t.debug)&&void 0!==n?n:{},this.ready=!1,this.disableNetworkRecording=t.disableNetworkRecording,this.disableConsoleRecording=t.disableConsoleRecording,this.enableSegmentIntegration=t.enableSegmentIntegration,this.enableStrictPrivacy=t.enableStrictPrivacy||!1,this.logger=new O(this.debugOptions.clientInteractions),this._backendUrl=(null==t?void 0:t.backendUrl)?t.backendUrl:e.env.PUBLIC_GRAPH_URI?e.env.PUBLIC_GRAPH_URI:"https://public.highlight.run",console.log("backend url",this._backendUrl);var r=new s.GraphQLClient(""+this._backendUrl,{headers:{}});this.graphqlSDK=Object(c.b)(r),this.environment="production",t.environment&&(b.a.includes(t.environment)?this.environment=t.environment:_("init",'custom environment names are not currently supported, "production" was used instead. Acceptable values are: "production", "staging", and "development".')),"string"==typeof t.organizationID?this.organizationID=t.organizationID:"number"==typeof t.organizationID?this.organizationID=t.organizationID.toString():this.organizationID="",this.firstloadVersion=t.firstloadVersion||"unknown",this.sessionData={sessionID:0,sessionStartTime:Date.now()};t.firstloadVersion;var i=E(t,["firstloadVersion"]);this._optionsInternal=i,this.listeners=[],this.events=[],this.errors=[],this.networkContents=[],this.messages=[]}return t.create=function(e){return new t(e)},t.prototype.identify=function(t,n,i){return void 0===n&&(n={}),T(this,void 0,void 0,(function(){var o;return S(this,(function(a){switch(a.label){case 0:return"segment"===i?Object(r.addCustomEvent)("Segment Identify",p()(w({user_identifier:t},n))):Object(r.addCustomEvent)("Identify",p()(w({user_identifier:t},n))),this.sessionData.userIdentifier=t,this.sessionData.userObject=n,[4,this.graphqlSDK.identifySession({session_id:this.sessionData.sessionID.toString(),user_identifier:t,user_object:n})];case 1:return a.sent(),o="segment"===i?i:"default",this.logger.log("Identify ("+t+", source: "+o+") w/ obj: "+p()(n)+" @ "+e.env.PUBLIC_GRAPH_URI),[2]}}))}))},t.prototype.pushCustomError=function(e,t){var n,r,i;return T(this,void 0,void 0,(function(){var o,a;return S(this,(function(s){switch(s.label){case 0:return[4,u.a.get()];case 1:return o=s.sent(),a=o.slice(1),this.errors.push({event:e,type:"custom",url:window.location.href,source:null!==(n=a[0].fileName)&&void 0!==n?n:"",lineNumber:null!==(r=a[0].lineNumber)&&void 0!==r?r:0,columnNumber:null!==(i=a[0].columnNumber)&&void 0!==i?i:0,trace:a,timestamp:(new Date).toISOString(),payload:t}),[2]}}))}))},t.prototype.addProperties=function(t,n){return void 0===t&&(t={}),T(this,void 0,void 0,(function(){var i;return S(this,(function(o){switch(o.label){case 0:return"session"!==(null==n?void 0:n.type)?[3,2]:[4,this.graphqlSDK.addSessionProperties({session_id:this.sessionData.sessionID.toString(),properties_object:t})];case 1:return o.sent(),this.logger.log("AddSessionProperties to session ("+this.sessionData.sessionID+") w/ obj: "+JSON.stringify(t)+" @ "+e.env.PUBLIC_GRAPH_URI),[3,4];case 2:return"segment"===(null==n?void 0:n.source)?Object(r.addCustomEvent)("Segment Track",p()(t)):Object(r.addCustomEvent)("Track",p()(t)),[4,this.graphqlSDK.addTrackProperties({session_id:this.sessionData.sessionID.toString(),properties_object:t})];case 3:o.sent(),i="segment"===(null==n?void 0:n.source)?n.source:"default",this.logger.log("AddTrackProperties to session ("+this.sessionData.sessionID+", source: "+i+") w/ obj: "+p()(t)+" @ "+e.env.PUBLIC_GRAPH_URI),o.label=4;case 4:return[2]}}))}))},t.prototype.initialize=function(t){var n,s;return T(this,void 0,void 0,(function(){var l,u,d,b,w,T,E,O,N,k,I,C,x=this;return S(this,(function(S){switch(S.label){case 0:l="",l="number"==typeof t?t.toString():"string"==typeof t?t:"0",S.label=1;case 1:return S.trys.push([1,5,,6]),t&&(this.organizationID=l),u=JSON.parse(window.sessionStorage.getItem("sessionData")||"{}"),d=!1,(b=window.sessionStorage.getItem("highlightRecordingStartTime"))?this._recordingStartTime=parseInt(b,10):(this._recordingStartTime=(new Date).getTime(),window.sessionStorage.setItem("highlightRecordingStartTime",this._recordingStartTime.toString())),window.sessionStorage.removeItem("sessionData"),u&&u.sessionID?(this.sessionData=u,d=!0,[3,4]):[3,2];case 2:return w=new ClientJS,T=0,"getFingerprint"in w&&(T=w.getFingerprint()),[4,this.graphqlSDK.initializeSession({organization_verbose_id:this.organizationID,enable_strict_privacy:this.enableStrictPrivacy,clientVersion:y.version,firstloadVersion:this.firstloadVersion,clientConfig:JSON.stringify(this._optionsInternal),environment:this.environment,id:T.toString()})];case 3:E=S.sent(),this.sessionData.sessionID=parseInt((null===(n=null==E?void 0:E.initializeSession)||void 0===n?void 0:n.id)||"0"),O=null===(s=null==E?void 0:E.initializeSession)||void 0===s?void 0:s.organization_id,this.logger.log("Loaded Highlight\n  Remote: "+e.env.PUBLIC_GRAPH_URI+"\n  Org ID: "+O+"\n  Verbose Org ID: "+this.organizationID+"\n  SessionID: "+this.sessionData.sessionID+"\n  Session Data:\n  ",E.initializeSession),this.sessionData.userIdentifier&&this.identify(this.sessionData.userIdentifier,this.sessionData.userObject),S.label=4;case 4:return setTimeout((function(){x._save()}),5e3),(N=function(e){x.events.push(e)}).bind(this),(k=Object(r.record)({ignoreClass:"highlight-ignore",blockClass:"highlight-block",emit:N,enableStrictPrivacy:this.enableStrictPrivacy,maskAllInputs:this.enableStrictPrivacy}))&&this.listeners.push(k),Object(r.addCustomEvent)("Viewport",{height:window.innerHeight,width:window.innerWidth}),I=this,this.enableSegmentIntegration&&this.listeners.push(Object(m.a)((function(e){if("track"===e.type){var t={};t["segment-event"]=e.event,I.addProperties(t,{type:"track",source:"segment"})}else"identify"===e.type&&I.identify(e.userId,e.traits,"segment")}))),document.referrer&&(Object(r.addCustomEvent)("Referrer",document.referrer),I.addProperties({referrer:document.referrer},{type:"session"})),this.listeners.push(Object(a.a)((function(e){d?(Object(r.addCustomEvent)("Reload",e),d=!1,I.addProperties({reload:!0},{type:"session"})):Object(r.addCustomEvent)("Navigate",e),I.addProperties({"visited-url":e},{type:"session"})}))),this.disableConsoleRecording||this.listeners.push(Object(i.a)((function(e){"Error"==e.type&&e.value&&e.trace&&I.errors.push({event:p()(e.value),type:"console.error",url:window.location.href,source:e.trace[0].fileName?e.trace[0].fileName:"",lineNumber:e.trace[0].lineNumber?e.trace[0].lineNumber:0,columnNumber:e.trace[0].columnNumber?e.trace[0].columnNumber:0,trace:e.trace,timestamp:(new Date).toISOString()}),I.messages.push(e)}))),this.listeners.push(Object(o.a)((function(e){return I.errors.push(e)}))),this.listeners.push(Object(h.a)((function(e){Object(r.addCustomEvent)("Viewport",e)}))),this.listeners.push(Object(v.a)((function(e){e&&Object(r.addCustomEvent)("Click",e)}))),this.listeners.push(Object(g.a)((function(e){e&&Object(r.addCustomEvent)("Focus",e)}))),window.addEventListener("beforeunload",(function(){var e=x._getPayload(),t=new Blob([JSON.stringify({query:Object(f.a)(c.a),variables:e})],{type:"application/json"});navigator.sendBeacon(""+x._backendUrl,t)})),this.ready=!0,[3,6];case 5:return C=S.sent(),_("initializeSession",C),[3,6];case 6:return window.addEventListener("beforeunload",(function(){Object(r.addCustomEvent)("Page Unload",""),window.sessionStorage.setItem("sessionData",JSON.stringify(x.sessionData))})),[2]}}))}))},t.prototype.stopRecording=function(e){e&&Object(r.addCustomEvent)("Stop","H.stop() was called which stops Highlight from recording."),this.listeners.forEach((function(e){return e()})),this.listeners=[]},t.prototype.getCurrentSessionTimestamp=function(){return this._recordingStartTime},t.prototype._save=function(){return T(this,void 0,void 0,(function(){var e,t,n=this;return S(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.sessionData.sessionID?(e=this._getPayload(),[4,this.graphqlSDK.PushPayload(e)]):[2];case 1:return r.sent(),this.events=[],this.errors=[],this.messages=[],this.networkContents=[],0===this.listeners.length?[2]:this.listeners&&this.sessionData.sessionStartTime&&Date.now()-this.sessionData.sessionStartTime>144e5?(this.sessionData.sessionStartTime=Date.now(),this.stopRecording(),this.initialize(this.organizationID),[2]):[3,3];case 2:return t=r.sent(),_("_save",t),[3,3];case 3:return setTimeout((function(){n._save()}),5e3),[2]}}))}))},t.prototype._getPayload=function(){var t=[];this.disableNetworkRecording||(t=performance.getEntriesByType("resource").filter((function(t){var n;return!t.name.includes(null!==(n=e.env.PUBLIC_GRAPH_URI)&&void 0!==n?n:"https://api.highlight.run")})));var n=p()({resources:t}),r=p()({messages:this.messages});return this.logger.log("Sending: "+this.events.length+" events, "+this.messages.length+" messages, "+t.length+" network resources, "+this.errors.length+" errors \nTo: "+e.env.PUBLIC_GRAPH_URI+"\nOrg: "+this.organizationID+"\nSessionID: "+this.sessionData.sessionID),this.disableNetworkRecording||performance.clearResourceTimings(),{session_id:this.sessionData.sessionID.toString(),events:{events:this.events},messages:r,resources:n,errors:this.errors}},t}();window.Highlight=N}).call(this,n(37))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n.n(r),o=function(e){return console.defaultLog=console.log.bind(console),console.log=function(){e({type:"Log",time:Date.now(),value:Array.from(arguments)}),console.defaultLog.apply(console,arguments)},console.defaultError=console.error.bind(console),console.error=function(){var t=arguments;i.a.get().then((function(n){e({type:"Error",time:Date.now(),value:Array.from(t),trace:n.slice(1)})})),console.defaultError.apply(console,arguments)},console.defaultWarn=console.warn.bind(console),console.warn=function(){e({type:"Warn",time:Date.now(),value:Array.from(arguments)}),console.defaultWarn.apply(console,arguments)},console.defaultDebug=console.debug.bind(console),console.debug=function(){e({type:"Debug",time:Date.now(),value:Array.from(arguments)}),console.defaultDebug.apply(console,arguments)},function(){console.debug=console.defaultDebug,console.warn=console.defaultWarn,console.error=console.defaultError,console.log=console.defaultLog}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=function(e){var t=window.onerror;return window.onerror=function(t,n,r,o,s){s&&a.a.fromError(s).then((function(r){e({event:i()(t),type:"window.onerror",url:window.location.href,source:n||"",lineNumber:r[0].lineNumber?r[0].lineNumber:0,columnNumber:r[0].columnNumber?r[0].columnNumber:0,trace:r,timestamp:(new Date).toISOString()})}))},function(){window.onerror=t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){e(window.location.href);var t,n=history.pushState;history.pushState=(t=history.pushState,function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e});var r=history.replaceState;history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),t}}(history.replaceState);var i=function(){window.dispatchEvent(new Event("locationchange"))};window.addEventListener("popstate",i);var o=function(){e(window.location.href)};return window.addEventListener("locationchange",o),function(){window.removeEventListener("popstate",i),window.removeEventListener("locationchange",o),history.pushState=n,history.replaceState=r}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var d=a(n(48)),p=d,f=n(49),h=u(n(53)),m=n(18),v=n(18);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return v.ClientError}});var g=function(e){var t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof p.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},y=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){return s(this,void 0,void 0,(function(){var i,o,a,s,u,p,f,v,y,b,T;return c(this,(function(c){switch(c.label){case 0:return i=this.options,o=i.headers,a=i.fetch,s=void 0===a?d.default:a,u=l(i,["headers","fetch"]),p=h.default(e,t),[4,s(this.url,r({method:"POST",headers:r(r(r({},"string"==typeof p?{"Content-Type":"application/json"}:{}),g(o)),g(n)),body:p},u))];case 1:return[4,w(f=c.sent())];case 2:if(v=c.sent(),f.ok&&!v.errors&&v.data)return y=f.headers,b=f.status,[2,r(r({},v),{headers:y,status:b})];throw T="string"==typeof v?{error:v}:v,new m.ClientError(r(r({},T),{status:f.status,headers:f.headers}),{query:e,variables:t})}}))}))},e.prototype.request=function(e,t,n){return s(this,void 0,void 0,(function(){var i,o,a,s,u,p,v,y,b,T;return c(this,(function(c){switch(c.label){case 0:return i=this.options,o=i.headers,a=i.fetch,s=void 0===a?d.default:a,u=l(i,["headers","fetch"]),p=function(e){return"string"==typeof e?e:f.print(e)}(e),v=h.default(p,t),[4,s(this.url,r({method:"POST",headers:r(r(r({},"string"==typeof v?{"Content-Type":"application/json"}:{}),g(o)),g(n)),body:v},u))];case 1:return[4,w(y=c.sent())];case 2:if(b=c.sent(),y.ok&&!b.errors&&b.data)return[2,b.data];throw T="string"==typeof b?{error:b}:b,new m.ClientError(r(r({},T),{status:y.status}),{query:p,variables:t})}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e}();function b(e,t,n){return s(this,void 0,void 0,(function(){return c(this,(function(r){return[2,new y(e).request(t,n)]}))}))}function w(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}t.GraphQLClient=y,t.rawRequest=function(e,t,n){return s(this,void 0,void 0,(function(){return c(this,(function(r){return[2,new y(e).rawRequest(t,n)]}))}))},t.request=b,t.default=b,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t,n=function(){clearTimeout(t),t=setTimeout((function(){e({height:window.innerHeight,width:window.innerWidth})}),500)};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){e(window.location.href);var t=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.send=function(n){setTimeout((function(){var t,r;try{r=JSON.parse(null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:"")}catch(e){return}"track"!==r.type&&"identify"!==r.type||e(r)}),100),t.call(this,n)},function(){XMLHttpRequest.prototype.send=t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),i=function(e){var t=function(t){if(t.target){var n=Object(r.a)(t.target);e(n)}};return window.addEventListener("click",t),function(){return window.removeEventListener("click",t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),i=function(e){var t=function(t){if(t.target){var n=Object(r.a)(t.target);e(n)}};return window.addEventListener("focusin",t),function(){return window.removeEventListener("focusin",t)}}},function(e){e.exports=JSON.parse('{"name":"webpack-js-library","version":"1.0.0","description":"webpack setup for writing a javascript library and making it availabe as script or npm package","main":"dist/index.js","scripts":{"build":"webpack","dev":"doppler run -- webpack serve --progress","lint":"prettier --check --write \'src/**/*.{ts,tsx,scss}\'","gql":"graphql-codegen --config --watch codegen.yml","test":"jest"},"repository":{"type":"git","url":"git+https://github.com/vyasriday/webpack-js-library.git"},"keywords":[],"author":"","license":"ISC","bugs":{"url":"https://github.com/vyasriday/webpack-js-library/issues"},"homepage":"https://github.com/vyasriday/webpack-js-library#readme","devDependencies":{"@babel/core":"^7.11.1","@babel/preset-env":"^7.11.0","@babel/preset-typescript":"^7.13.0","@graphql-codegen/cli":"^1.20.1","@graphql-codegen/import-types-preset":"^1.18.1","@graphql-codegen/typescript":"^1.21.0","@graphql-codegen/typescript-graphql-request":"^3.0.2","@graphql-codegen/typescript-operations":"^1.17.14","@graphql-codegen/typescript-react-apollo":"^2.2.1","@types/clientjs":"^0.1.0","@types/jest":"^26.0.20","@types/json-stringify-safe":"^5.0.0","babel-eslint":"^10.1.0","babel-loader":"^8.0.6","eslint":"^6.8.0","jest":"^26.6.3","prettier":"^2.2.1","ts-loader":"^8.0.12","typescript":"^4.1.3","webpack":"^5.10.1","webpack-cli":"^4.5.0","webpack-dev-server":"^3.11.0","webpack-merge":"^5.7.0"},"dependencies":{"@babel/plugin-transform-runtime":"^7.11.0","@highlight-run/rrweb":"0.11.3","clientjs":"^0.1.11","graphql":"^15.4.0","graphql-request":"^3.4.0","json-stringify-safe":"^5.0.1","stacktrace-js":"^2.0.2"}}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["production","development","staging"]},function(e){e.exports=JSON.parse('{"name":"highlight.run","version":"1.5.0","scripts":{"build":"webpack --mode=production --config=./webpack.config.js","dev":"doppler run -- webpack-dev-server --progress --colors --watch","lint":"prettier --check --write \'src/**/*.{ts,tsx,scss}\'"},"main":"dist/firstload/src/index.js","types":"dist/firstload/src/index.d.ts","devDependencies":{"@types/chrome":"^0.0.143","prettier":"^2.2.1","ts-loader":"^8.0.4","typescript":"^4.0.3","webpack":"^4.44.1","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.0"},"dependencies":{}}')},,function(e,t,n){"use strict";n.r(t),n.d(t,"H",(function(){return u}));var r,i,o,a=n(23),s=n(34),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t){console.warn("Highlight Warning: ("+e+"): ",t)},u={options:void 0,init:function(e,t){try{u.options=t,i=document.createElement("script");var n=(null==t?void 0:t.scriptUrl)?t.scriptUrl:"https://static.highlight.run/index.js";i.setAttribute("src",n+"?"+(new Date).getMilliseconds()),i.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(i),i.addEventListener("load",(function(){o=a.a.create({organizationID:e,debug:null==t?void 0:t.debug,backendUrl:null==t?void 0:t.backendUrl,disableNetworkRecording:null==t?void 0:t.disableNetworkRecording,disableConsoleRecording:null==t?void 0:t.disableConsoleRecording,enableSegmentIntegration:null==t?void 0:t.enableSegmentIntegration,enableStrictPrivacy:(null==t?void 0:t.enableStrictPrivacy)||!1,firstloadVersion:s.version,environment:(null==t?void 0:t.environment)||"production"}),(null==t?void 0:t.manualStart)||(console.log("calling initialize"),o.initialize(e))}))}catch(e){l("init",e)}},error:function(e,t){try{u.onHighlightReady((function(){return o.pushCustomError(e,JSON.stringify(t))}))}catch(e){l("error",e)}},track:function(e,t){try{u.onHighlightReady((function(){return o.addProperties(c(c({},t),{event:e}))}))}catch(e){l("track",e)}},start:function(){var e;try{if(null===(e=u.options)||void 0===e?void 0:e.manualStart)var t=setInterval((function(){o&&(clearInterval(t),o.initialize())}),200);else console.warn("Highlight Error: Can't call `start()` without setting `manualStart` option in `H.init`")}catch(e){l("start",e)}},stop:function(){try{u.onHighlightReady((function(){return o.stopRecording(!0)}))}catch(e){l("stop",e)}},identify:function(e,t){try{u.onHighlightReady((function(){return o.identify(e,t)}))}catch(e){l("identify",e)}},getSessionURL:function(){return new Promise((function(e,t){u.onHighlightReady((function(){var n=o.organizationID,r=o.sessionData.sessionID;n&&r?e("app.highlight.run/"+n+"/sessions/"+r):t(new Error("org ID or session ID is empty"))}))}))},getSessionDetails:function(){return new Promise((function(e,t){u.onHighlightReady((function(){var n=o.organizationID,r=o.sessionData.sessionID;if(n&&r){var i=o.getCurrentSessionTimestamp(),a=(new Date).getTime(),s="https://app.highlight.run/"+n+"/sessions/"+r,c=new URL(s),l=new URL(s);l.searchParams.set("ts",((a-i)/1e3).toString()),e({url:c.toString(),urlWithTimestamp:l.toString()})}else t(new Error("org ID or session ID is empty"))}))}))},onHighlightReady:function(e){try{if(o&&o.ready)e();else var t=setInterval((function(){o&&o.ready&&(clearInterval(t),e())}),200)}catch(e){l("onHighlightReady",e)}}};"undefined"!=typeof window&&(window.H=u),null===(r=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===r||r.onMessage.addListener((function(e,t,n){return console.log(e.action),console.log("[Highlight] received event from extension."),u.init(1,{debug:!0,scriptUrl:"http://localhost:8080/dist/index.js"}),u.getSessionURL().then((function(e){n({url:e})})),!0})),console.log("this script has loaded, yo")},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r,i,o;!function(a,s){"use strict";i=[n(7)],void 0===(o="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t,n){var r,i,o;!function(a,s){"use strict";i=[n(7)],void 0===(o="function"==typeof(r=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t,n){var r,i,o;!function(a,s){"use strict";i=[n(41),n(7)],void 0===(o="function"==typeof(r=function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function i(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function o(a){if(!(this instanceof o))return new o(a);a=a||{},this.sourceCache=a.sourceCache||{},this.sourceMapConsumerCache=a.sourceMapConsumerCache||{},this.ajax=a.ajax||n,this._atob=a.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(a.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var i=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(i){var o=i[0].length,s=e.substr(o),c=this._atob(s);this.sourceCache[e]=c,t(c)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var l=this.ajax(e,{method:"get"});this.sourceCache[e]=l,l.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var i=new Promise(function(r,i){return this._get(t).then((function(t){"string"==typeof t&&(t=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))}),i)}.bind(this));this.sourceMapConsumerCache[t]=i,r(i)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){i(e),this._get(e.fileName).then((function(r){var i=e.lineNumber,o=e.columnNumber,a=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),i="",o=Math.min(t,20),a=0;a<o;++a){var s=r[t-a-1],c=s.indexOf("//");if(c>=0&&(s=s.substr(0,c)),s){i=s+i;for(var l=n.length,u=0;u<l;u++){var d=n[u].exec(i);if(d&&d[1])return d[1]}}}}(r,i);n(a?new t({functionName:a,args:e.args,fileName:e.fileName,lineNumber:i,columnNumber:o}):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(n,r){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),i(e);var o=this.sourceCache,a=e.fileName;this._get(a).then(function(r){var i=function(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(r),s="data:"===i.substr(0,5),c=a.substring(0,a.lastIndexOf("/")+1);return"/"===i[0]||s||/^https?:\/\/|^\/\//i.test(i)||(i=c+i),this._getSourceMapConsumer(i,c).then((function(r){return function(e,n,r){return new Promise((function(i,o){var a=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(a.source){var s=n.sourceContentFor(a.source);s&&(r[a.source]=s),i(new t({functionName:a.name||e.functionName,args:e.args,fileName:a.source,lineNumber:a.line,columnNumber:a.column}))}else o(new Error("Could not get original source for given stackframe and source map"))}))}(e,r,o).then(n).catch((function(){n(e)}))}))}.bind(this),r).catch(r)}.bind(this))}}})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t,n){t.SourceMapGenerator=n(10).SourceMapGenerator,t.SourceMapConsumer=n(44).SourceMapConsumer,t.SourceNode=n(47).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(5);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,o,a,s;t=this._last,n=e,i=t.generatedLine,o=n.generatedLine,a=t.generatedColumn,s=n.generatedColumn,o>i||o==i&&s>=a||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t,n){var r=n(5),i=n(45),o=n(12).ArraySet,a=n(11),s=n(46).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new d(t):new l(t)}function l(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),a=r.getArg(t,"names",[]),s=r.getArg(t,"sourceRoot",null),c=r.getArg(t,"sourcesContent",null),l=r.getArg(t,"mappings"),u=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(r.normalize).map((function(e){return s&&r.isAbsolute(s)&&r.isAbsolute(e)?r.relative(s,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(i,!0),this.sourceRoot=s,this.sourcesContent=c,this._mappings=l,this.file=u}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),i=r.getArg(t,"column");if(n<a.line||n===a.line&&i<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new c(r.getArg(e,"map"))}}))}c.fromSourceMap=function(e){return l.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=a&&(t=r.join(a,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var c=s.originalLine;s&&s.originalLine===c;)o.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var l=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==l;)o.push({line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return o},t.SourceMapConsumer=c,l.prototype=Object.create(c.prototype),l.prototype.consumer=c,l.fromSourceMap=function(e){var t=Object.create(l.prototype),n=t._names=o.fromArray(e._names.toArray(),!0),i=t._sources=o.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),c=t.__generatedMappings=[],d=t.__originalMappings=[],p=0,f=a.length;p<f;p++){var h=a[p],m=new u;m.generatedLine=h.generatedLine,m.generatedColumn=h.generatedColumn,h.source&&(m.source=i.indexOf(h.source),m.originalLine=h.originalLine,m.originalColumn=h.originalColumn,h.name&&(m.name=n.indexOf(h.name)),d.push(m)),c.push(m)}return s(t.__originalMappings,r.compareByOriginalPositions),t},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),l.prototype._parseMappings=function(e,t){for(var n,i,o,c,l,d=1,p=0,f=0,h=0,m=0,v=0,g=e.length,y=0,b={},w={},T=[],S=[];y<g;)if(";"===e.charAt(y))d++,y++,p=0;else if(","===e.charAt(y))y++;else{for((n=new u).generatedLine=d,c=y;c<g&&!this._charIsMappingSeparator(e,c);c++);if(o=b[i=e.slice(y,c)])y+=i.length;else{for(o=[];y<c;)a.decode(e,y,w),l=w.value,y=w.rest,o.push(l);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[i]=o}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=m+o[1],m+=o[1],n.originalLine=f+o[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=h+o[3],h=n.originalColumn,o.length>4&&(n.name=v+o[4],v+=o[4])),S.push(n),"number"==typeof n.originalLine&&T.push(n)}s(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,s(T,r.compareByOriginalPositions),this.__originalMappings=T},l.prototype._findMapping=function(e,t,n,r,o,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,a)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=r.join(this.sourceRoot,o)));var a=r.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},l.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var i=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=l,d.prototype=Object.create(c.prototype),d.prototype.constructor=c,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},d.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var c=o[a],l=i.consumer._sources.at(c.source);null!==i.consumer.sourceRoot&&(l=r.join(i.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var u=i.consumer._names.at(c.name);this._names.add(u),u=this._names.indexOf(u);var d={source:l,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:u};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}s(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),s(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=d},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;var o=function e(n,r,i,o,a,s){var c=Math.floor((r-n)/2)+n,l=a(i,o[c],!0);return 0===l?c:l>0?r-c>1?e(c,r,i,o,a,s):s==t.LEAST_UPPER_BOUND?r<o.length?r:-1:c:c-n>1?e(n,c,i,o,a,s):s==t.LEAST_UPPER_BOUND?c:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,i,o){if(i<o){var a=i-1;n(e,(u=i,d=o,Math.round(u+Math.random()*(d-u))),o);for(var s=e[o],c=i;c<o;c++)t(e[c],s)<=0&&n(e,a+=1,c);n(e,a+1,c);var l=a+1;r(e,t,i,l-1),r(e,t,l+1,o)}var u,d}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(10).SourceMapGenerator,i=n(5),o=/(\r?\n)/,a="$$$isSourceNode$$$";function s(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[a]=!0,null!=r&&this.add(r)}s.fromStringWithSourceMap=function(e,t,n){var r=new s,a=e.split(o),c=function(){return a.shift()+(a.shift()||"")},l=1,u=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(l<e.generatedLine)){var t=(n=a[0]).substr(0,e.generatedColumn-u);return a[0]=n.substr(e.generatedColumn-u),u=e.generatedColumn,p(d,t),void(d=e)}p(d,c()),l++,u=0}for(;l<e.generatedLine;)r.add(c()),l++;if(u<e.generatedColumn){var n=a[0];r.add(n.substr(0,e.generatedColumn)),a[0]=n.substr(e.generatedColumn),u=e.generatedColumn}d=e}),this),a.length>0&&(d&&p(d,c()),r.add(a.join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))})),r;function p(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new s(e.originalLine,e.originalColumn,o,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[a]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,a=null,s=null,c=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&a===r.line&&s===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,a=r.line,s=r.column,c=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var l=0,u=e.length;l<u;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===u?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=s},function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function T(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];T.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new T(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=T),t.Headers=p,t.Request=b,t.Response=T,t.fetch=E}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(50),i=n(15);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=l("(",s(e.variableDefinitions,", "),")"),i=s(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?s([t,s([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+l(" = ",r)+l(" ",s(i," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=l("",t,": ")+n,c=a+l("(",s(r,", "),")");return c.length>80&&(c=a+l("(\n",u(s(r,"\n")),"\n)")),s([c,s(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+l(" ",s(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return s(["...",l("on ",t),s(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(l("(",s(r,", "),")")," ")+"on ".concat(n," ").concat(l("",s(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+l("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,n=e.operationTypes;return s(["schema",s(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return s(["scalar",e.name,s(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["type",t,l("implements ",s(n," & ")),s(r," "),c(i)]," ")})),FieldDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(p(n)?l("(\n",u(s(n,"\n")),"\n)"):l("(",s(n,", "),")"))+": "+r+l(" ",s(i," "))})),InputValueDefinition:a((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return s([t+": "+n,l("= ",r),s(i," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["interface",t,l("implements ",s(n," & ")),s(r," "),c(i)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.types;return s(["union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.values;return s(["enum",t,s(n," "),c(r)]," ")})),EnumValueDefinition:a((function(e){return s([e.name,s(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.fields;return s(["input",t,s(n," "),c(r)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(p(n)?l("(\n",u(s(n,"\n")),"\n)"):l("(",s(n,", "),")"))+(r?" repeatable":"")+" on "+s(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return s(["extend schema",s(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend type",t,l("implements ",s(n," & ")),s(r," "),c(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend interface",t,l("implements ",s(n," & ")),s(r," "),c(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return s(["extend union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return s(["extend enum",t,s(n," "),c(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return s(["extend input",t,s(n," "),c(r)]," ")}};function a(e){return function(t){return s([t.description,e(t)],"\n")}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return l("{\n",u(s(e,"\n")),"\n}")}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function u(e){return l("  ",e.replace(/\n/g,"\n  "))}function d(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=void 0,l=Array.isArray(e),u=[e],d=-1,p=[],f=void 0,h=void 0,m=void 0,v=[],g=[],y=e;do{var b=++d===u.length,w=b&&0!==p.length;if(b){if(h=0===g.length?void 0:v[v.length-1],f=m,m=g.pop(),w){if(l)f=f.slice();else{for(var T={},S=0,E=Object.keys(f);S<E.length;S++){var _=E[S];T[_]=f[_]}f=T}for(var O=0,N=0;N<p.length;N++){var k=p[N][0],I=p[N][1];l&&(k-=O),l&&null===I?(f.splice(k,1),O++):f[k]=I}}d=r.index,u=r.keys,p=r.edits,l=r.inArray,r=r.prev}else{if(h=m?l?d:u[d]:void 0,null==(f=m?m[h]:y))continue;m&&v.push(h)}var C,x=void 0;if(!Array.isArray(f)){if(!(0,o.isNode)(f))throw new Error("Invalid AST Node: ".concat((0,i.default)(f),"."));var A=c(t,f.kind,b);if(A){if((x=A.call(t,f,h,m,v,g))===s)break;if(!1===x){if(!b){v.pop();continue}}else if(void 0!==x&&(p.push([h,x]),!b)){if(!(0,o.isNode)(x)){v.pop();continue}f=x}}}if(void 0===x&&w&&p.push([h,f]),b)v.pop();else r={inArray:l,index:d,keys:u,edits:p,prev:r},l=Array.isArray(f),u=l?f:null!==(C=n[f.kind])&&void 0!==C?C:[],d=-1,p=[],m&&g.push(m),m=f}while(void 0!==r);0!==p.length&&(y=p[p.length-1][1]);return y},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===s)t[r]=s;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=c(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===s)t[r]=s;else if(void 0!==o&&!1!==o)return o}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=c,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(13))&&r.__esModule?r:{default:r},o=n(8);var a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=a;var s=Object.freeze({});function c(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}t.BREAK=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=o(n(52)),i=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),o=r(n(56)),a=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t){var n=i.extractFiles({query:e,variables:t},"",a),r=n.clone,s=n.files;if(0===s.size)return JSON.stringify(r);var c=new("undefined"==typeof FormData?o.default:FormData);c.append("operations",JSON.stringify(r));var l={},u=0;return s.forEach((function(e){l[++u]=e})),c.append("map",JSON.stringify(l)),u=0,s.forEach((function(e,t){c.append(""+ ++u,t)})),c}},function(e,t,n){"use strict";t.ReactNativeFile=n(16),t.extractFiles=n(55),t.isExtractableFile=n(17)},function(e,t,n){"use strict";var r=n(17);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var a=new Map;function s(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(i(t))o=null,s([n],t);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return s([""+c+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+c+n,i);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var l in o={},t){var u=e(t[l],""+c+l,i);u.files.forEach(s),o[l]=u.clone}else o=t}return{clone:o,files:a}}},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){return new u(e,t).parseDocument()},t.parseValue=function(e,t){var n=new u(e,t);n.expectToken(a.TokenKind.SOF);var r=n.parseValueLiteral(!1);return n.expectToken(a.TokenKind.EOF),r},t.parseType=function(e,t){var n=new u(e,t);n.expectToken(a.TokenKind.SOF);var r=n.parseTypeReference();return n.expectToken(a.TokenKind.EOF),r},t.Parser=void 0;var r=n(19),i=n(61),o=n(8),a=n(22),s=n(62),c=n(65),l=n(66);var u=function(){function e(e,t){var n=(0,s.isSource)(e)?e:new s.Source(e);this._lexer=new l.Lexer(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(a.TokenKind.NAME);return{kind:i.Kind.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:i.Kind.DOCUMENT,definitions:this.many(a.TokenKind.SOF,this.parseDefinition,a.TokenKind.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(a.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(a.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(a.TokenKind.BRACE_L))return{kind:i.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(a.TokenKind.NAME)&&(t=this.parseName()),{kind:i.Kind.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(a.TokenKind.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseVariableDefinition,a.TokenKind.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:i.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(a.TokenKind.DOLLAR),{kind:i.Kind.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:i.Kind.SELECTION_SET,selections:this.many(a.TokenKind.BRACE_L,this.parseSelection,a.TokenKind.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(a.TokenKind.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(a.TokenKind.COLON)?(e=r,t=this.parseName()):t=r,{kind:i.Kind.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.TokenKind.PAREN_L,t,a.TokenKind.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:i.Kind.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:i.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(a.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(a.TokenKind.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(a.TokenKind.NAME)?{kind:i.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:i.Kind.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:i.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:i.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case a.TokenKind.BRACKET_L:return this.parseList(e);case a.TokenKind.BRACE_L:return this.parseObject(e);case a.TokenKind.INT:return this._lexer.advance(),{kind:i.Kind.INT,value:t.value,loc:this.loc(t)};case a.TokenKind.FLOAT:return this._lexer.advance(),{kind:i.Kind.FLOAT,value:t.value,loc:this.loc(t)};case a.TokenKind.STRING:case a.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case a.TokenKind.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:i.Kind.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:i.Kind.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:i.Kind.NULL,loc:this.loc(t)};default:return{kind:i.Kind.ENUM,value:t.value,loc:this.loc(t)}}case a.TokenKind.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:i.Kind.STRING,value:e.value,block:e.kind===a.TokenKind.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:i.Kind.LIST,values:this.any(a.TokenKind.BRACKET_L,(function(){return t.parseValueLiteral(e)}),a.TokenKind.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:i.Kind.OBJECT,fields:this.any(a.TokenKind.BRACE_L,(function(){return t.parseObjectField(e)}),a.TokenKind.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(a.TokenKind.COLON),{kind:i.Kind.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(a.TokenKind.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(a.TokenKind.AT),{kind:i.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(a.TokenKind.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(a.TokenKind.BRACKET_R),e={kind:i.Kind.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(a.TokenKind.BANG)?{kind:i.Kind.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:i.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===a.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(a.TokenKind.STRING)||this.peek(a.TokenKind.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);return{kind:i.Kind.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(a.TokenKind.COLON);var n=this.parseNamedType();return{kind:i.Kind.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:i.Kind.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:i.Kind.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:a,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(a.TokenKind.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(a.TokenKind.AMP)||this.peek(a.TokenKind.NAME));return t}return this.delimitedMany(a.TokenKind.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(a.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===a.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(a.TokenKind.BRACE_L,this.parseFieldDefinition,a.TokenKind.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(a.TokenKind.COLON);var o=this.parseTypeReference(),s=this.parseDirectives(!0);return{kind:i.Kind.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:s,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(a.TokenKind.PAREN_L,this.parseInputValueDef,a.TokenKind.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(a.TokenKind.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(a.TokenKind.EQUALS)&&(r=this.parseValueLiteral(!0));var s=this.parseDirectives(!0);return{kind:i.Kind.INPUT_VALUE_DEFINITION,description:t,name:n,type:o,defaultValue:r,directives:s,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:i.Kind.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:a,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:i.Kind.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(a.TokenKind.EQUALS)?this.delimitedMany(a.TokenKind.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:i.Kind.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseEnumValueDefinition,a.TokenKind.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:i.Kind.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:i.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(a.TokenKind.BRACE_L,this.parseInputValueDef,a.TokenKind.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===a.TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(a.TokenKind.BRACE_L,this.parseOperationTypeDefinition,a.TokenKind.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:i.Kind.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:i.Kind.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:i.Kind.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:i.Kind.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:i.Kind.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:i.Kind.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:i.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.TokenKind.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:i.Kind.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:s,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(a.TokenKind.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==c.DirectiveLocation[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new o.Location(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw(0,r.syntaxError)(this._lexer.source,t.start,"Expected ".concat(p(e),", found ").concat(d(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==a.TokenKind.NAME||t.value!==e)throw(0,r.syntaxError)(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(d(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===a.TokenKind.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return(0,r.syntaxError)(this._lexer.source,t.start,"Unexpected ".concat(d(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function d(e){var t=e.value;return p(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function p(e){return(0,l.isPunctuatorTokenKind)(e)?'"'.concat(e,'"'):e}t.Parser=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=y,t.GraphQLError=void 0;var r,i=(r=n(59))&&r.__esModule?r:{default:r},o=n(20),a=n(21),s=n(60);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function f(e,t,n){return(f=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,e);var t,n,r,s,c,p=(t=f,n=h(),function(){var e,r=v(t);if(n){var i=v(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function f(e,t,n,r,o,s,c){var l,h,m,v,g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g=p.call(this,e);var y,b=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,w=n;!w&&b&&(w=null===(y=b[0].loc)||void 0===y?void 0:y.source);var T,S=r;!S&&b&&(S=b.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),S&&0===S.length&&(S=void 0),r&&n?T=r.map((function(e){return(0,a.getLocation)(n,e)})):b&&(T=b.reduce((function(e,t){return t.loc&&e.push((0,a.getLocation)(t.loc.source,t.loc.start)),e}),[]));var E=c;if(null==E&&null!=s){var _=s.extensions;(0,i.default)(_)&&(E=_)}return Object.defineProperties(d(g),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(l=T)&&void 0!==l?l:void 0,enumerable:null!=T},path:{value:null!=o?o:void 0,enumerable:null!=o},nodes:{value:null!=b?b:void 0},source:{value:null!==(h=w)&&void 0!==h?h:void 0},positions:{value:null!==(m=S)&&void 0!==m?m:void 0},originalError:{value:s},extensions:{value:null!==(v=E)&&void 0!==v?v:void 0,enumerable:null!=E}}),(null==s?void 0:s.stack)?(Object.defineProperty(d(g),"stack",{value:s.stack,writable:!0,configurable:!0}),u(g)):(Error.captureStackTrace?Error.captureStackTrace(d(g),f):Object.defineProperty(d(g),"stack",{value:Error().stack,writable:!0,configurable:!0}),g)}return r=f,(s=[{key:"toString",value:function(){return y(this)}},{key:o.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}])&&l(r.prototype,s),c&&l(r,c),f}(p(Error));function y(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+(0,s.printLocation)(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var c=a[o];t+="\n\n"+(0,s.printSourceLocation)(e.source,c)}return t}t.GraphQLError=g},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"==r(e)&&null!==e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printLocation=function(e){return i(e.source,(0,r.getLocation)(e.source,e.start))},t.printSourceLocation=i;var r=n(21);function i(e,t){var n=e.locationOffset.column-1,r=a(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,c=t.line+s,l=1===t.line?n:0,u=t.column+l,d="".concat(e.name,":").concat(c,":").concat(u,"\n"),p=r.split(/\r\n|[\n\r]/g),f=p[i];if(f.length>120){for(var h=Math.floor(u/80),m=u%80,v=[],g=0;g<f.length;g+=80)v.push(f.slice(g,g+80));return d+o([["".concat(c),v[0]]].concat(v.slice(1,h+1).map((function(e){return["",e]})),[[" ",a(m-1)+"^"],["",v[h+1]]]))}return d+o([["".concat(c-1),p[i-1]],["".concat(c),f],["",a(u-1)+"^"],["".concat(c+1),p[i+1]]])}function o(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return a(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function a(e){return Array(e+1).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=void 0;var r=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});t.Kind=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSource=function(e){return(0,a.default)(e,l)},t.Source=void 0;var r=n(20),i=s(n(13)),o=s(n(63)),a=s(n(64));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||(0,o.default)(0,"Body must be a string. Received: ".concat((0,i.default)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,o.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,o.default)(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,a;return t=e,(n=[{key:r.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}])&&c(t.prototype,n),a&&c(t,a),e}();t.Source=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){return e instanceof t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=void 0;var r=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});t.DirectiveLocation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPunctuatorTokenKind=function(e){return e===o.TokenKind.BANG||e===o.TokenKind.DOLLAR||e===o.TokenKind.AMP||e===o.TokenKind.PAREN_L||e===o.TokenKind.PAREN_R||e===o.TokenKind.SPREAD||e===o.TokenKind.COLON||e===o.TokenKind.EQUALS||e===o.TokenKind.AT||e===o.TokenKind.BRACKET_L||e===o.TokenKind.BRACKET_R||e===o.TokenKind.BRACE_L||e===o.TokenKind.PIPE||e===o.TokenKind.BRACE_R},t.Lexer=void 0;var r=n(19),i=n(8),o=n(22),a=n(15),s=function(){function e(e){var t=new i.Token(o.TokenKind.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==o.TokenKind.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=l(this,e)}while(e.kind===o.TokenKind.COMMENT);return e},e}();function c(e){return isNaN(e)?o.TokenKind.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function l(e,t){for(var n=e.source,a=n.body,s=a.length,c=t.end;c<s;){var l=a.charCodeAt(c),f=e.line,v=1+c-e.lineStart;switch(l){case 65279:case 9:case 32:case 44:++c;continue;case 10:++c,++e.line,e.lineStart=c;continue;case 13:10===a.charCodeAt(c+1)?c+=2:++c,++e.line,e.lineStart=c;continue;case 33:return new i.Token(o.TokenKind.BANG,c,c+1,f,v,t);case 35:return d(n,c,f,v,t);case 36:return new i.Token(o.TokenKind.DOLLAR,c,c+1,f,v,t);case 38:return new i.Token(o.TokenKind.AMP,c,c+1,f,v,t);case 40:return new i.Token(o.TokenKind.PAREN_L,c,c+1,f,v,t);case 41:return new i.Token(o.TokenKind.PAREN_R,c,c+1,f,v,t);case 46:if(46===a.charCodeAt(c+1)&&46===a.charCodeAt(c+2))return new i.Token(o.TokenKind.SPREAD,c,c+3,f,v,t);break;case 58:return new i.Token(o.TokenKind.COLON,c,c+1,f,v,t);case 61:return new i.Token(o.TokenKind.EQUALS,c,c+1,f,v,t);case 64:return new i.Token(o.TokenKind.AT,c,c+1,f,v,t);case 91:return new i.Token(o.TokenKind.BRACKET_L,c,c+1,f,v,t);case 93:return new i.Token(o.TokenKind.BRACKET_R,c,c+1,f,v,t);case 123:return new i.Token(o.TokenKind.BRACE_L,c,c+1,f,v,t);case 124:return new i.Token(o.TokenKind.PIPE,c,c+1,f,v,t);case 125:return new i.Token(o.TokenKind.BRACE_R,c,c+1,f,v,t);case 34:return 34===a.charCodeAt(c+1)&&34===a.charCodeAt(c+2)?m(n,c,f,v,t,e):h(n,c,f,v,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p(n,c,l,f,v,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return g(n,c,f,v,t)}throw(0,r.syntaxError)(n,c,u(l))}var y=e.line,b=1+c-e.lineStart;return new i.Token(o.TokenKind.EOF,s,s,y,b,t)}function u(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(c(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(c(e),".")}function d(e,t,n,r,a){var s,c=e.body,l=t;do{s=c.charCodeAt(++l)}while(!isNaN(s)&&(s>31||9===s));return new i.Token(o.TokenKind.COMMENT,t,l,n,r,a,c.slice(t+1,l))}function p(e,t,n,a,s,l){var u=e.body,d=n,p=t,h=!1;if(45===d&&(d=u.charCodeAt(++p)),48===d){if((d=u.charCodeAt(++p))>=48&&d<=57)throw(0,r.syntaxError)(e,p,"Invalid number, unexpected digit after 0: ".concat(c(d),"."))}else p=f(e,p,d),d=u.charCodeAt(p);if(46===d&&(h=!0,d=u.charCodeAt(++p),p=f(e,p,d),d=u.charCodeAt(p)),69!==d&&101!==d||(h=!0,43!==(d=u.charCodeAt(++p))&&45!==d||(d=u.charCodeAt(++p)),p=f(e,p,d),d=u.charCodeAt(p)),46===d||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(d))throw(0,r.syntaxError)(e,p,"Invalid number, expected digit but got: ".concat(c(d),"."));return new i.Token(h?o.TokenKind.FLOAT:o.TokenKind.INT,t,p,a,s,l,u.slice(t,p))}function f(e,t,n){var i=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=i.charCodeAt(++o)}while(a>=48&&a<=57);return o}throw(0,r.syntaxError)(e,o,"Invalid number, expected digit but got: ".concat(c(a),"."))}function h(e,t,n,a,s){for(var l,u,d,p,f=e.body,h=t+1,m=h,g=0,y="";h<f.length&&!isNaN(g=f.charCodeAt(h))&&10!==g&&13!==g;){if(34===g)return y+=f.slice(m,h),new i.Token(o.TokenKind.STRING,t,h+1,n,a,s,y);if(g<32&&9!==g)throw(0,r.syntaxError)(e,h,"Invalid character within String: ".concat(c(g),"."));if(++h,92===g){switch(y+=f.slice(m,h-1),g=f.charCodeAt(h)){case 34:y+='"';break;case 47:y+="/";break;case 92:y+="\\";break;case 98:y+="\b";break;case 102:y+="\f";break;case 110:y+="\n";break;case 114:y+="\r";break;case 116:y+="\t";break;case 117:var b=(l=f.charCodeAt(h+1),u=f.charCodeAt(h+2),d=f.charCodeAt(h+3),p=f.charCodeAt(h+4),v(l)<<12|v(u)<<8|v(d)<<4|v(p));if(b<0){var w=f.slice(h+1,h+5);throw(0,r.syntaxError)(e,h,"Invalid character escape sequence: \\u".concat(w,"."))}y+=String.fromCharCode(b),h+=4;break;default:throw(0,r.syntaxError)(e,h,"Invalid character escape sequence: \\".concat(String.fromCharCode(g),"."))}m=++h}}throw(0,r.syntaxError)(e,h,"Unterminated string.")}function m(e,t,n,s,l,u){for(var d=e.body,p=t+3,f=p,h=0,m="";p<d.length&&!isNaN(h=d.charCodeAt(p));){if(34===h&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2))return m+=d.slice(f,p),new i.Token(o.TokenKind.BLOCK_STRING,t,p+3,n,s,l,(0,a.dedentBlockStringValue)(m));if(h<32&&9!==h&&10!==h&&13!==h)throw(0,r.syntaxError)(e,p,"Invalid character within String: ".concat(c(h),"."));10===h?(++p,++u.line,u.lineStart=p):13===h?(10===d.charCodeAt(p+1)?p+=2:++p,++u.line,u.lineStart=p):92===h&&34===d.charCodeAt(p+1)&&34===d.charCodeAt(p+2)&&34===d.charCodeAt(p+3)?(m+=d.slice(f,p)+'"""',f=p+=4):++p}throw(0,r.syntaxError)(e,p,"Unterminated string.")}function v(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function g(e,t,n,r,a){for(var s=e.body,c=s.length,l=t+1,u=0;l!==c&&!isNaN(u=s.charCodeAt(l))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++l;return new i.Token(o.TokenKind.NAME,t,l,n,r,a,s.slice(t,l))}t.Lexer=s},function(e,t,n){var r,i,o,a;r=window,(a=function(){return i=(new(window.UAParser||t.UAParser)).getResult(),o=new l,this}).prototype={getSoftwareVersion:function(){return"0.1.11"},getBrowserData:function(){return i},getFingerprint:function(){return u(i.ua+"|"+this.getScreenPrint()+"|"+this.getPlugins()+"|"+this.getFonts()+"|"+this.isLocalStorage()+"|"+this.isSessionStorage()+"|"+this.getTimeZone()+"|"+this.getLanguage()+"|"+this.getSystemLanguage()+"|"+this.isCookie()+"|"+this.getCanvasPrint(),256)},getCustomFingerprint:function(){for(var e="",t=0;t<arguments.length;t++)e+=arguments[t]+"|";return u(e,256)},getUserAgent:function(){return i.ua},getUserAgentLowerCase:function(){return i.ua.toLowerCase()},getBrowser:function(){return i.browser.name},getBrowserVersion:function(){return i.browser.version},getBrowserMajorVersion:function(){return i.browser.major},isIE:function(){return/IE/i.test(i.browser.name)},isChrome:function(){return/Chrome/i.test(i.browser.name)},isFirefox:function(){return/Firefox/i.test(i.browser.name)},isSafari:function(){return/Safari/i.test(i.browser.name)},isMobileSafari:function(){return/Mobile\sSafari/i.test(i.browser.name)},isOpera:function(){return/Opera/i.test(i.browser.name)},getEngine:function(){return i.engine.name},getEngineVersion:function(){return i.engine.version},getOS:function(){return i.os.name},getOSVersion:function(){return i.os.version},isWindows:function(){return/Windows/i.test(i.os.name)},isMac:function(){return/Mac/i.test(i.os.name)},isLinux:function(){return/Linux/i.test(i.os.name)},isUbuntu:function(){return/Ubuntu/i.test(i.os.name)},isSolaris:function(){return/Solaris/i.test(i.os.name)},getDevice:function(){return i.device.model},getDeviceType:function(){return i.device.type},getDeviceVendor:function(){return i.device.vendor},getCPU:function(){return i.cpu.architecture},isMobile:function(){var e=i.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},isMobileMajor:function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},isMobileAndroid:function(){return!!i.ua.match(/Android/i)},isMobileOpera:function(){return!!i.ua.match(/Opera Mini/i)},isMobileWindows:function(){return!!i.ua.match(/IEMobile/i)},isMobileBlackBerry:function(){return!!i.ua.match(/BlackBerry/i)},isMobileIOS:function(){return!!i.ua.match(/iPhone|iPad|iPod/i)},isIphone:function(){return!!i.ua.match(/iPhone/i)},isIpad:function(){return!!i.ua.match(/iPad/i)},isIpod:function(){return!!i.ua.match(/iPod/i)},getScreenPrint:function(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},getColorDepth:function(){return screen.colorDepth},getCurrentResolution:function(){return screen.width+"x"+screen.height},getAvailableResolution:function(){return screen.availWidth+"x"+screen.availHeight},getDeviceXDPI:function(){return screen.deviceXDPI},getDeviceYDPI:function(){return screen.deviceYDPI},getPlugins:function(){for(var e="",t=0;t<navigator.plugins.length;t++)e=t==navigator.plugins.length-1?e+navigator.plugins[t].name:e+(navigator.plugins[t].name+", ");return e},isJava:function(){return navigator.javaEnabled()},getJavaVersion:function(){return c.getJREs().toString()},isFlash:function(){return!!navigator.plugins["Shockwave Flash"]},getFlashVersion:function(){return this.isFlash()?(objPlayerVersion=d.getFlashPlayerVersion(),objPlayerVersion.major+"."+objPlayerVersion.minor+"."+objPlayerVersion.release):""},isSilverlight:function(){return!!navigator.plugins["Silverlight Plug-In"]},getSilverlightVersion:function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},isMimeTypes:function(){return!!navigator.mimeTypes.length},getMimeTypes:function(){for(var e="",t=0;t<navigator.mimeTypes.length;t++)e=t==navigator.mimeTypes.length-1?e+navigator.mimeTypes[t].description:e+(navigator.mimeTypes[t].description+", ");return e},isFont:function(e){return o.detect(e)},getFonts:function(){for(var e="Abadi MT Condensed Light;Adobe Fangsong Std;Adobe Hebrew;Adobe Ming Std;Agency FB;Aharoni;Andalus;Angsana New;AngsanaUPC;Aparajita;Arab;Arabic Transparent;Arabic Typesetting;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Greek;Arial TUR;Arial;Batang;BatangChe;Bauhaus 93;Bell MT;Bitstream Vera Serif;Bodoni MT;Bookman Old Style;Braggadocio;Broadway;Browallia New;BrowalliaUPC;Calibri Light;Calibri;Californian FB;Cambria Math;Cambria;Candara;Castellar;Casual;Centaur;Century Gothic;Chalkduster;Colonna MT;Comic Sans MS;Consolas;Constantia;Copperplate Gothic Light;Corbel;Cordia New;CordiaUPC;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Greek;Courier New TUR;Courier New;DFKai-SB;DaunPenh;David;DejaVu LGC Sans Mono;Desdemona;DilleniaUPC;DokChampa;Dotum;DotumChe;Ebrima;Engravers MT;Eras Bold ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;Eurostile;FangSong;Forte;FrankRuehl;Franklin Gothic Heavy;Franklin Gothic Medium;FreesiaUPC;French Script MT;Gabriola;Gautami;Georgia;Gigi;Gisha;Goudy Old Style;Gulim;GulimChe;GungSeo;Gungsuh;GungsuhChe;Haettenschweiler;Harrington;Hei S;HeiT;Heisei Kaku Gothic;Hiragino Sans GB;Impact;Informal Roman;IrisUPC;Iskoola Pota;JasmineUPC;KacstOne;KaiTi;Kalinga;Kartika;Khmer UI;Kino MT;KodchiangUPC;Kokila;Kozuka Gothic Pr6N;Lao UI;Latha;Leelawadee;Levenim MT;LilyUPC;Lohit Gujarati;Loma;Lucida Bright;Lucida Console;Lucida Fax;Lucida Sans Unicode;MS Gothic;MS Mincho;MS PGothic;MS PMincho;MS Reference Sans Serif;MS UI Gothic;MV Boli;Magneto;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo UI;Meiryo;Menlo;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Miriam Fixed;Miriam;Mongolian Baiti;MoolBoran;NSimSun;Narkisim;News Gothic MT;Niagara Solid;Nyala;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;Papyrus;Perpetua;Plantagenet Cherokee;Playbill;Prelude Bold;Prelude Condensed Bold;Prelude Condensed Medium;Prelude Medium;PreludeCompressedWGL Black;PreludeCompressedWGL Bold;PreludeCompressedWGL Light;PreludeCompressedWGL Medium;PreludeCondensedWGL Black;PreludeCondensedWGL Bold;PreludeCondensedWGL Light;PreludeCondensedWGL Medium;PreludeWGL Black;PreludeWGL Bold;PreludeWGL Light;PreludeWGL Medium;Raavi;Rachana;Rockwell;Rod;Sakkal Majalla;Sawasdee;Script MT Bold;Segoe Print;Segoe Script;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Segoe UI;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplified Arabic Fixed;Simplified Arabic;Snap ITC;Sylfaen;Symbol;Tahoma;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Greek;Times New Roman TUR;Times New Roman;TlwgMono;Traditional Arabic;Trebuchet MS;Tunga;Tw Cen MT Condensed Extra Bold;Ubuntu;Umpush;Univers;Utopia;Utsaah;Vani;Verdana;Vijaya;Vladimir Script;Vrinda;Webdings;Wide Latin;Wingdings".split(";"),t="",n=0;n<e.length;n++)o.detect(e[n])&&(t=n==e.length-1?t+e[n]:t+(e[n]+", "));return t},isLocalStorage:function(){try{return!!r.localStorage}catch(e){return!0}},isSessionStorage:function(){try{return!!r.sessionStorage}catch(e){return!0}},isCookie:function(){return navigator.cookieEnabled},getTimeZone:function(){return String(String(new Date).split("(")[1]).split(")")[0]},getLanguage:function(){return navigator.language},getSystemLanguage:function(){return navigator.systemLanguage},isCanvas:function(){var e=document.createElement("canvas");try{return!(!e.getContext||!e.getContext("2d"))}catch(e){return!1}},getCanvasPrint:function(){var e,t=document.createElement("canvas");try{e=t.getContext("2d")}catch(e){return""}return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText("ClientJS,org <canvas> 1.0",2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText("ClientJS,org <canvas> 1.0",4,17),t.toDataURL()}},e.exports=a,r.ClientJS=a;var c=function(){function e(e){o.debug&&(console.log?console.log(e):alert(e))}function t(e){return null==e||0==e.length?"http://java.com/dt-redirect":("&"==e.charAt(0)&&(e=e.substring(1,e.length)),"http://java.com/dt-redirect?"+e)}var n=["id","class","title","style"];"classid codebase codetype data type archive declare standby height width usemap name tabindex align border hspace vspace".split(" ").concat(n,["lang","dir"],"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup".split(" "));var r,i="codebase code name archive object width height alt align hspace vspace".split(" ").concat(n);try{r=-1!=document.location.protocol.indexOf("http")?"//java.com/js/webstart.png":"http://java.com/js/webstart.png"}catch(e){r="http://java.com/js/webstart.png"}var o={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:!1,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",mimeType:"application/java-deployment-toolkit",launchButtonPNG:r,browserName:null,browserName2:null,getJREs:function(){var t=[];if(this.isPluginInstalled())for(var n=this.getPlugin().jvms,r=0;r<n.getLength();r++)t[r]=n.get(r).version;else"MSIE"==(n=this.getBrowser())?this.testUsingActiveX("1.7.0")?t[0]="1.7.0":this.testUsingActiveX("1.6.0")?t[0]="1.6.0":this.testUsingActiveX("1.5.0")?t[0]="1.5.0":this.testUsingActiveX("1.4.2")?t[0]="1.4.2":this.testForMSVM()&&(t[0]="1.1"):"Netscape Family"==n&&(this.getJPIVersionUsingMimeType(),null!=this.firefoxJavaVersion?t[0]=this.firefoxJavaVersion:this.testUsingMimeTypes("1.7")?t[0]="1.7.0":this.testUsingMimeTypes("1.6")?t[0]="1.6.0":this.testUsingMimeTypes("1.5")?t[0]="1.5.0":this.testUsingMimeTypes("1.4.2")?t[0]="1.4.2":"Safari"==this.browserName2&&(this.testUsingPluginsArray("1.7.0")?t[0]="1.7.0":this.testUsingPluginsArray("1.6")?t[0]="1.6.0":this.testUsingPluginsArray("1.5")?t[0]="1.5.0":this.testUsingPluginsArray("1.4.2")&&(t[0]="1.4.2")));if(this.debug)for(r=0;r<t.length;++r)e("[getJREs()] We claim to have detected Java SE "+t[r]);return t},installJRE:function(e,t){if(this.isPluginInstalled()&&this.isAutoInstallEnabled(e)){var n;return(n=this.isCallbackSupported()?this.getPlugin().installJRE(e,t):this.getPlugin().installJRE(e))&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),n}return this.installLatestJRE()},isAutoInstallEnabled:function(e){if(!this.isPluginInstalled())return!1;if(void 0===e&&(e=null),"MSIE"!=c.browserName||c.compareVersionToPattern(c.getPlugin().version,["10","0","0"],!1,!0))e=!0;else if(null==e)e=!1;else{var t="1.6.0_33+";if(null==t||0==t.length)e=!0;else{var n=t.charAt(t.length-1);if("+"!=n&&"*"!=n&&-1!=t.indexOf("_")&&"_"!=n&&(t+="*",n="*"),0<(t=t.substring(0,t.length-1)).length){var r=t.charAt(t.length-1);"."!=r&&"_"!=r||(t=t.substring(0,t.length-1))}e="*"==n?0==e.indexOf(t):"+"==n&&t<=e}e=!e}return e},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],!1,!0)},installLatestJRE:function(e){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var n=!1;return(n=this.isCallbackSupported()?this.getPlugin().installLatestJRE(e):this.getPlugin().installLatestJRE())&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),n}if(e=this.getBrowser(),n=navigator.platform.toLowerCase(),"true"==this.EAInstallEnabled&&-1!=n.indexOf("win")&&null!=this.EarlyAccessURL)this.preInstallJREList=this.getJREs(),null!=this.returnPage&&(this.myInterval=setInterval("deployJava.poll()",3e3)),location.href=this.EarlyAccessURL;else{if("MSIE"==e)return this.IEInstall();if("Netscape Family"==e&&-1!=n.indexOf("win32"))return this.FFInstall();location.href=t((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""))}return!1},runApplet:function(t,n,r){"undefined"!=r&&null!=r||(r="1.1");var i=r.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");null==this.returnPage&&(this.returnPage=document.location),null!=i?"?"!=this.getBrowser()?this.versionCheck(r+"+")?this.writeAppletTag(t,n):this.installJRE(r+"+")&&(this.refresh(),location.href=document.location,this.writeAppletTag(t,n)):this.writeAppletTag(t,n):e("[runApplet()] Invalid minimumVersion argument to runApplet():"+r)},writeAppletTag:function(e,t){var n="<applet ",r="",o=!0;for(var a in null!=t&&"object"==typeof t||(t={}),e){var s;e:{s=a.toLowerCase();for(var c=i.length,l=0;l<c;l++)if(i[l]===s){s=!0;break e}s=!1}s?(n+=" "+a+'="'+e[a]+'"',"code"==a&&(o=!1)):t[a]=e[a]}for(var u in a=!1,t)"codebase_lookup"==u&&(a=!0),"object"!=u&&"java_object"!=u&&"java_code"!=u||(o=!1),r+='<param name="'+u+'" value="'+t[u]+'"/>';a||(r+='<param name="codebase_lookup" value="false"/>'),o&&(n+=' code="dummy"'),document.write(n+">\n"+r+"\n</applet>")},versionCheck:function(t){var n=0,r=t.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$");if(null!=r){for(var i=t=!1,o=[],a=1;a<r.length;++a)"string"==typeof r[a]&&""!=r[a]&&(o[n]=r[a],n++);for("+"==o[o.length-1]?(i=!0,t=!1,o.length--):"*"==o[o.length-1]?(i=!1,t=!0,o.length--):4>o.length&&(i=!1,t=!0),n=this.getJREs(),a=0;a<n.length;++a)if(this.compareVersionToPattern(n[a],o,t,i))return!0}else e("[versionCheck()] "+(n="Invalid versionPattern passed to versionCheck: "+t)),alert(n);return!1},isWebStartInstalled:function(t){if("?"==this.getBrowser())return!0;"undefined"!=t&&null!=t||(t="1.4.2");var n=!1;return null!=t.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$")?n=this.versionCheck(t+"+"):(e("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+t),n=this.versionCheck("1.4.2+")),n},getJPIVersionUsingMimeType:function(){for(var e=0;e<navigator.mimeTypes.length;++e){var t=navigator.mimeTypes[e].type.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(null!=t&&(this.firefoxJavaVersion=t[1],"Opera"!=this.browserName2))break}},launchWebStartApplication:function(e){if(navigator.userAgent.toLowerCase(),this.getJPIVersionUsingMimeType(),0==this.isWebStartInstalled("1.7.0")&&(0==this.installJRE("1.7.0+")||0==this.isWebStartInstalled("1.7.0")))return!1;var t=null;document.documentURI&&(t=document.documentURI),null==t&&(t=document.URL);var n,r=this.getBrowser();"MSIE"==r?n='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+e+'"><PARAM name="docbase" value="'+t+'"></object>':"Netscape Family"==r&&(n='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+e+'"docbase="'+t+'" />'),"undefined"==document.body||null==document.body?(document.write(n),document.location=t):((e=document.createElement("div")).id="div1",e.style.position="relative",e.style.left="-10000px",e.style.margin="0px auto",e.className="dynamicDiv",e.innerHTML=n,document.body.appendChild(e))},createWebStartLaunchButtonEx:function(e,t){null==this.returnPage&&(this.returnPage=e),document.write("<a href=\"javascript:deployJava.launchWebStartApplication('"+e+'\');" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},createWebStartLaunchButton:function(e,t){null==this.returnPage&&(this.returnPage=e),document.write('<a href="javascript:if (!deployJava.isWebStartInstalled(&quot;'+t+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+e+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+e+'&quot;)) {}}" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(e){return document.location=e,!0},isPluginInstalled:function(){var e=this.getPlugin();return!(!e||!e.jvms)},isAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().isAutoUpdateEnabled()},setAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().setAutoUpdateEnabled()},setInstallerType:function(e){return this.installType=e,!!this.isPluginInstalled()&&this.getPlugin().setInstallerType(e)},setAdditionalPackages:function(e){return!!this.isPluginInstalled()&&this.getPlugin().setAdditionalPackages(e)},setEarlyAccess:function(e){this.EAInstallEnabled=e},isPlugin2:function(){if(this.isPluginInstalled()&&this.versionCheck("1.6.0_10+"))try{return this.getPlugin().isPlugin2()}catch(e){}return!1},allowPlugin:function(){return this.getBrowser(),"Safari"!=this.browserName2&&"Opera"!=this.browserName2},getPlugin:function(){this.refresh();var e=null;return this.allowPlugin()&&(e=document.getElementById("deployJavaPlugin")),e},compareVersionToPattern:function(e,t,n,r){if(null==e||null==t)return!1;var i=e.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");if(null!=i){var o=0;e=[];for(var a=1;a<i.length;++a)"string"==typeof i[a]&&""!=i[a]&&(e[o]=i[a],o++);if(i=Math.min(e.length,t.length),r){for(a=0;a<i;++a){if(e[a]<t[a])return!1;if(e[a]>t[a])break}return!0}for(a=0;a<i;++a)if(e[a]!=t[a])return!1;return!!n||e.length==t.length}return!1},getBrowser:function(){if(null==this.browserName){var t=navigator.userAgent.toLowerCase();e("[getBrowser()] navigator.userAgent.toLowerCase() -> "+t),-1!=t.indexOf("msie")&&-1==t.indexOf("opera")?this.browserName2=this.browserName="MSIE":-1!=t.indexOf("iphone")?(this.browserName="Netscape Family",this.browserName2="iPhone"):-1!=t.indexOf("firefox")&&-1==t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Firefox"):-1!=t.indexOf("chrome")?(this.browserName="Netscape Family",this.browserName2="Chrome"):-1!=t.indexOf("safari")?(this.browserName="Netscape Family",this.browserName2="Safari"):-1!=t.indexOf("mozilla")&&-1==t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Other"):-1!=t.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Opera"):(this.browserName="?",this.browserName2="unknown"),e("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(t){if(t="JavaWebStart.isInstalled."+t+".0","undefined"==typeof ActiveXObject||!ActiveXObject)return e("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?"),!1;try{return null!=new ActiveXObject(t)}catch(e){return!1}},testForMSVM:function(){if("undefined"!=typeof oClientCaps){var e=oClientCaps.getComponentVersion("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}","ComponentID");return""!=e&&"5,0,5000,0"!=e}return!1},testUsingMimeTypes:function(t){if(!navigator.mimeTypes)return e("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?"),!1;for(var n=0;n<navigator.mimeTypes.length;++n){s=navigator.mimeTypes[n].type;var r=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);if(null!=r&&this.compareVersions(r[1],t))return!0}return!1},testUsingPluginsArray:function(e){if(!navigator.plugins||!navigator.plugins.length)return!1;for(var t=navigator.platform.toLowerCase(),n=0;n<navigator.plugins.length;++n)if(s=navigator.plugins[n].description,-1!=s.search(/^Java Switchable Plug-in (Cocoa)/)){if(this.compareVersions("1.5.0",e))return!0}else if(-1!=s.search(/^Java/)&&-1!=t.indexOf("win")&&(this.compareVersions("1.5.0",e)||this.compareVersions("1.6.0",e)))return!0;return!!this.compareVersions("1.5.0",e)},IEInstall:function(){return location.href=t((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")),!1},done:function(e,t){},FFInstall:function(){return location.href=t((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")+(null!=this.installType?"&type="+this.installType:"")),!1},compareVersions:function(e,t){for(var n=e.split("."),r=t.split("."),i=0;i<n.length;++i)n[i]=Number(n[i]);for(i=0;i<r.length;++i)r[i]=Number(r[i]);return 2==n.length&&(n[2]=0),n[0]>r[0]||!(n[0]<r[0])&&(n[1]>r[1]||!(n[1]<r[1])&&(n[2]>r[2]||!(n[2]<r[2])))},enableAlerts:function(){this.browserName=null,this.debug=!0},poll:function(){this.refresh();var e=this.getJREs();0==this.preInstallJREList.length&&0!=e.length&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage)),0!=this.preInstallJREList.length&&0!=e.length&&this.preInstallJREList[0]!=e[0]&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage))},writePluginTag:function(){var e=this.getBrowser();"MSIE"==e?document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0"></object>'):"Netscape Family"==e&&this.allowPlugin()&&this.writeEmbedTag()},refresh:function(){navigator.plugins.refresh(!1),"Netscape Family"==this.getBrowser()&&this.allowPlugin()&&null==document.getElementById("deployJavaPlugin")&&this.writeEmbedTag()},writeEmbedTag:function(){var e=!1;if(null!=navigator.mimeTypes){for(var t=0;t<navigator.mimeTypes.length;t++)navigator.mimeTypes[t].type==this.mimeType&&navigator.mimeTypes[t].enabledPlugin&&(document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />'),e=!0);if(!e)for(t=0;t<navigator.mimeTypes.length;t++)navigator.mimeTypes[t].type==this.oldMimeType&&navigator.mimeTypes[t].enabledPlugin&&document.write('<embed id="deployJavaPlugin" type="'+this.oldMimeType+'" hidden="true" />')}}};if(o.writePluginTag(),null==o.locale){if(null==(n=null))try{n=navigator.userLanguage}catch(e){}if(null==n)try{n=navigator.systemLanguage}catch(e){}if(null==n)try{n=navigator.language}catch(e){}null!=n&&(n.replace("-","_"),o.locale=n)}return o}(),l=function(){var e=["monospace","sans-serif","serif"],t=document.getElementsByTagName("body")[0],n=document.createElement("span");n.style.fontSize="72px",n.innerHTML="mmmmmmmmmmlli";var r,i={},o={};for(r in e)n.style.fontFamily=e[r],t.appendChild(n),i[e[r]]=n.offsetWidth,o[e[r]]=n.offsetHeight,t.removeChild(n);this.detect=function(r){var a,s=!1;for(a in e){n.style.fontFamily=r+","+e[a],t.appendChild(n);var c=n.offsetWidth!=i[e[a]]||n.offsetHeight!=o[e[a]];t.removeChild(n),s=s||c}return s}};function u(e,t){var n,r,i,o,a;for(n=3&e.length,r=e.length-n,i=t,a=0;a<r;)o=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,++a,i=27492+(65535&(i=5*(65535&(i=(i^=o=461845907*(65535&(o=(o=3432918353*(65535&o)+((3432918353*(o>>>16)&65535)<<16)&4294967295)<<15|o>>>17))+((461845907*(o>>>16)&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(o=0,n){case 3:o^=(255&e.charCodeAt(a+2))<<16;case 2:o^=(255&e.charCodeAt(a+1))<<8;case 1:i^=461845907*(65535&(o=(o=3432918353*(65535&(o^=255&e.charCodeAt(a)))+((3432918353*(o>>>16)&65535)<<16)&4294967295)<<15|o>>>17))+((461845907*(o>>>16)&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,((i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295)^i>>>16)>>>0}var d=function(){function e(){if(!A){try{(e=_.getElementsByTagName("body")[0].appendChild(_.createElement("span"))).parentNode.removeChild(e)}catch(e){return}A=!0;for(var e=k.length,t=0;t<e;t++)k[t]()}}function t(e){A?e():k[k.length]=e}function n(e){if(void 0!==E.addEventListener)E.addEventListener("load",e,!1);else if(void 0!==_.addEventListener)_.addEventListener("load",e,!1);else if(void 0!==E.attachEvent)!function(e,t,n){e.attachEvent(t,n),x[x.length]=[e,t,n]}(E,"onload",e);else if("function"==typeof E.onload){var t=E.onload;E.onload=function(){t(),e()}}else E.onload=e}function r(){var e=I.length;if(0<e)for(var t=0;t<e;t++){var n=I[t].id,r=I[t].callbackFn,c={success:!1,id:n};if(0<P.pv[0]){if(l=p(n))if(!f(I[t].swfVersion)||P.wk&&312>P.wk)if(I[t].expressInstall&&o()){(c={}).data=I[t].expressInstall,c.width=l.getAttribute("width")||"0",c.height=l.getAttribute("height")||"0",l.getAttribute("class")&&(c.styleclass=l.getAttribute("class")),l.getAttribute("align")&&(c.align=l.getAttribute("align"));for(var l,u={},d=(l=l.getElementsByTagName("param")).length,h=0;h<d;h++)"movie"!=l[h].getAttribute("name").toLowerCase()&&(u[l[h].getAttribute("name")]=l[h].getAttribute("value"));a(c,u,n,r)}else s(l),r&&r(c);else m(n,!0),r&&(c.success=!0,c.ref=i(n),r(c))}else m(n,!0),r&&((n=i(n))&&void 0!==n.SetVariable&&(c.success=!0,c.ref=n),r(c))}}function i(e){var t=null;return(e=p(e))&&"OBJECT"==e.nodeName&&(void 0!==e.SetVariable||(e=e.getElementsByTagName("object")[0]))&&(t=e),t}function o(){return!M&&f("6.0.65")&&(P.win||P.mac)&&!(P.wk&&312>P.wk)}function a(e,t,n,r){M=!0,b=r||null,w={success:!1,id:n};var i=p(n);i&&("OBJECT"==i.nodeName?(g=c(i),y=null):(g=i,y=n),e.id="SWFObjectExprInst",(void 0===e.width||!/%$/.test(e.width)&&310>parseInt(e.width,10))&&(e.width="310"),(void 0===e.height||!/%$/.test(e.height)&&137>parseInt(e.height,10))&&(e.height="137"),_.title=_.title.slice(0,47)+" - Flash Player Installation",r=P.ie&&P.win?"ActiveX":"PlugIn",r="MMredirectURL="+E.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+_.title,t.flashvars=void 0!==t.flashvars?t.flashvars+"&"+r:r,P.ie&&P.win&&4!=i.readyState&&(n+="SWFObjectNew",(r=_.createElement("div")).setAttribute("id",n),i.parentNode.insertBefore(r,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()),l(e,t,n))}function s(e){if(P.ie&&P.win&&4!=e.readyState){var t=_.createElement("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=_.createElement("div");if(P.win&&P.ie)t.innerHTML=e.innerHTML;else if((e=e.getElementsByTagName("object")[0])&&(e=e.childNodes))for(var n=e.length,r=0;r<n;r++)1==e[r].nodeType&&"PARAM"==e[r].nodeName||8==e[r].nodeType||t.appendChild(e[r].cloneNode(!0));return t}function l(e,t,n){var r,i=p(n);if(P.wk&&312>P.wk)return r;if(i)if(void 0===e.id&&(e.id=n),P.ie&&P.win){var o,a="";for(o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?a+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(a+=" "+o+'="'+e[o]+'"'));for(var s in o="",t)t[s]!=Object.prototype[s]&&(o+='<param name="'+s+'" value="'+t[s]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+o+"</object>",C[C.length]=e.id,r=p(e.id)}else{for(var c in(s=_.createElement("object")).setAttribute("type","application/x-shockwave-flash"),e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?s.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&s.setAttribute(c,e[c]));for(a in t)t[a]!=Object.prototype[a]&&"movie"!=a.toLowerCase()&&(e=s,o=a,c=t[a],(n=_.createElement("param")).setAttribute("name",o),n.setAttribute("value",c),e.appendChild(n));i.parentNode.replaceChild(s,i),r=s}return r}function u(e){var t=p(e);t&&"OBJECT"==t.nodeName&&(P.ie&&P.win?(t.style.display="none",function(){if(4==t.readyState){var n=p(e);if(n){for(var r in n)"function"==typeof n[r]&&(n[r]=null);n.parentNode.removeChild(n)}}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function p(e){var t=null;try{t=_.getElementById(e)}catch(e){}return t}function f(e){var t=P.pv;return(e=e.split("."))[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10)||0,e[2]=parseInt(e[2],10)||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]}function h(e,t,n,r){if(!P.ie||!P.mac){var i=_.getElementsByTagName("head")[0];i&&(n=n&&"string"==typeof n?n:"screen",r&&(S=T=null),T&&S==n||((r=_.createElement("style")).setAttribute("type","text/css"),r.setAttribute("media",n),T=i.appendChild(r),P.ie&&P.win&&void 0!==_.styleSheets&&0<_.styleSheets.length&&(T=_.styleSheets[_.styleSheets.length-1]),S=n),P.ie&&P.win?T&&"object"==typeof T.addRule&&T.addRule(e,t):T&&void 0!==_.createTextNode&&T.appendChild(_.createTextNode(e+" {"+t+"}")))}}function m(e,t){if(D){var n=t?"visible":"hidden";A&&p(e)?p(e).style.visibility=n:h("#"+e,"visibility:"+n)}}function v(e){return null!=/[\\\"<>\.;]/.exec(e)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(e):e}var g,y,b,w,T,S,E=window,_=document,O=navigator,N=!1,k=[function(){N?function(){var e=_.getElementsByTagName("body")[0],t=_.createElement("object");t.setAttribute("type","application/x-shockwave-flash");var n=e.appendChild(t);if(n){var i=0;!function(){if(void 0!==n.GetVariable){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),P.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}():r()}],I=[],C=[],x=[],A=!1,M=!1,D=!0,P=function(){var e=void 0!==_.getElementById&&void 0!==_.getElementsByTagName&&void 0!==_.createElement,t=O.userAgent.toLowerCase(),n=O.platform.toLowerCase(),r=/win/.test(n||t),i=(n=/mac/.test(n||t),t=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),!1),o=[0,0,0],a=null;if(void 0!==O.plugins&&"object"==typeof O.plugins["Shockwave Flash"])!(a=O.plugins["Shockwave Flash"].description)||void 0!==O.mimeTypes&&O.mimeTypes["application/x-shockwave-flash"]&&!O.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(N=!0,i=!1,a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(a.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(a.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(a)?parseInt(a.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(void 0!==E.ActiveXObject)try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");s&&(a=s.GetVariable("$version"))&&(i=!0,a=a.split(" ")[1].split(","),o=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}catch(e){}return{w3:e,pv:o,wk:t,ie:i,win:r,mac:n}}();return P.w3&&((void 0!==_.readyState&&"complete"==_.readyState||void 0===_.readyState&&(_.getElementsByTagName("body")[0]||_.body))&&e(),A||(void 0!==_.addEventListener&&_.addEventListener("DOMContentLoaded",e,!1),P.ie&&P.win&&(_.attachEvent("onreadystatechange",(function(){"complete"==_.readyState&&(_.detachEvent("onreadystatechange",arguments.callee),e())})),E==top&&function(){if(!A){try{_.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),P.wk&&function(){A||(/loaded|complete/.test(_.readyState)?e():setTimeout(arguments.callee,0))}(),n(e))),P.ie&&P.win&&window.attachEvent("onunload",(function(){for(var e=x.length,t=0;t<e;t++)x[t][0].detachEvent(x[t][1],x[t][2]);for(e=C.length,t=0;t<e;t++)u(C[t]);for(var n in P)P[n]=null;for(var r in P=null,d)d[r]=null;d=null})),{registerObject:function(e,t,n,r){if(P.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,I[I.length]=i,m(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(P.w3)return i(e)},embedSWF:function(e,n,r,i,s,c,u,d,p,h){var v={success:!1,id:n};P.w3&&!(P.wk&&312>P.wk)&&e&&n&&r&&i&&s?(m(n,!1),t((function(){r+="",i+="";var t={};if(p&&"object"==typeof p)for(var g in p)t[g]=p[g];if(t.data=e,t.width=r,t.height=i,g={},d&&"object"==typeof d)for(var y in d)g[y]=d[y];if(u&&"object"==typeof u)for(var b in u)g.flashvars=void 0!==g.flashvars?g.flashvars+"&"+b+"="+u[b]:b+"="+u[b];if(f(s))y=l(t,g,n),t.id==n&&m(n,!0),v.success=!0,v.ref=y;else{if(c&&o())return t.data=c,void a(t,g,n,h);m(n,!0)}h&&h(v)}))):h&&h(v)},switchOffAutoHideShow:function(){D=!1},ua:P,getFlashPlayerVersion:function(){return{major:P.pv[0],minor:P.pv[1],release:P.pv[2]}},hasFlashPlayerVersion:f,createSWF:function(e,t,n){if(P.w3)return l(e,t,n)},showExpressInstall:function(e,t,n,r){P.w3&&o()&&a(e,t,n,r)},removeSWF:function(e){P.w3&&u(e)},createCSS:function(e,t,n,r){P.w3&&h(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){if(t=_.location.search||_.location.hash){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return v(t);for(var t=t.split("&"),n=0;n<t.length;n++)if(t[n].substring(0,t[n].indexOf("="))==e)return v(t[n].substring(t[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(M){var e=p("SWFObjectExprInst");e&&g&&(e.parentNode.replaceChild(g,e),y&&(m(y,!0),P.ie&&P.win&&(g.style.display="block")),b&&b(w)),M=!1}}}}();!function(n,r){var i={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&0==t[n].length%2&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.split(".")[0]:r}},o=function(){for(var e,t,n,i,o,a,s,c=0,l=arguments;c<l.length&&!a;){var u=l[c],d=l[c+1];if(void 0===e)for(i in e={},d)d.hasOwnProperty(i)&&("object"==typeof(o=d[i])?e[o[0]]=r:e[o]=r);for(t=n=0;t<u.length&&!a;)if(a=u[t++].exec(this.getUA()))for(i=0;i<d.length;i++)s=a[++n],"object"==typeof(o=d[i])&&0<o.length?2==o.length?e[o[0]]="function"==typeof o[1]?o[1].call(this,s):o[1]:3==o.length?e[o[0]]="function"!=typeof o[1]||o[1].exec&&o[1].test?s?s.replace(o[1],o[2]):r:s?o[1].call(this,s,o[2]):r:4==o.length&&(e[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):r):e[o]=s||r;c+=2}return e},a=function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var o=0;o<t[n].length;o++)if(i.has(t[n][o],e))return"?"===n?r:n}else if(i.has(t[n],e))return"?"===n?r:n;return e},s={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},c={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],["version",["name","Android Browser"]],[/FBAV\/([\w\.]+);/i],["version",["name","Facebook"]],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",a,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",i.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",i.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",i.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",a,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",a,{HTC:"APA",Sprint:"Sprint"}],["model",a,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[["type",i.lowerize],"vendor","model"]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",a,s]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",a,s]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},l=function(e,t){if(!(this instanceof l))return new l(e,t).getResult();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),a=t?i.extend(c,t):c;return this.getBrowser=function(){var e=o.apply(this,a.browser);return e.major=i.major(e.version),e},this.getCPU=function(){return o.apply(this,a.cpu)},this.getDevice=function(){return o.apply(this,a.device)},this.getEngine=function(){return o.apply(this,a.engine)},this.getOS=function(){return o.apply(this,a.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r),this};l.VERSION="0.7.10",l.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},l.CPU={ARCHITECTURE:"architecture"},l.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},l.ENGINE={NAME:"name",VERSION:"version"},l.OS={NAME:"name",VERSION:"version"},e.exports&&(t=e.exports=l),t.UAParser=l;var u=n.jQuery||n.Zepto;if(void 0!==u){var d=new l;u.ua=d.getResult(),u.ua.get=function(){return d.getUA()},u.ua.set=function(e){for(var t in d.setUA(e),e=d.getResult())u.ua[t]=e[t]}}}("object"==typeof window?window:this)}])}));
//# sourceMappingURL=index.js.map